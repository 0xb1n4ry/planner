/* dummy-persona-store.c generated by valac 0.40.11, the Vala compiler
 * generated from dummy-persona-store.vala, do not modify */

/*
 * Copyright (C) 2013 Philip Withnall
 * Copyright (C) 2013 Canonical Ltd
 * Copyright (C) 2013 Collabora Ltd.
 *
 * This library is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 2.1 of the License, or
 * (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this library.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Authors:
 *       Philip Withnall <philip@tecnocode.co.uk>
 *       Renato Araujo Oliveira Filho <renato@canonical.com>
 */


#include <glib.h>
#include <glib-object.h>
#include <folks/folks.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <gio/gio.h>
#include <folks-internal.h>


#define FOLKS_DUMMY_TYPE_PERSONA_STORE (folks_dummy_persona_store_get_type ())
#define FOLKS_DUMMY_PERSONA_STORE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FOLKS_DUMMY_TYPE_PERSONA_STORE, FolksDummyPersonaStore))
#define FOLKS_DUMMY_PERSONA_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FOLKS_DUMMY_TYPE_PERSONA_STORE, FolksDummyPersonaStoreClass))
#define FOLKS_DUMMY_IS_PERSONA_STORE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FOLKS_DUMMY_TYPE_PERSONA_STORE))
#define FOLKS_DUMMY_IS_PERSONA_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FOLKS_DUMMY_TYPE_PERSONA_STORE))
#define FOLKS_DUMMY_PERSONA_STORE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FOLKS_DUMMY_TYPE_PERSONA_STORE, FolksDummyPersonaStoreClass))

typedef struct _FolksDummyPersonaStore FolksDummyPersonaStore;
typedef struct _FolksDummyPersonaStoreClass FolksDummyPersonaStoreClass;
typedef struct _FolksDummyPersonaStorePrivate FolksDummyPersonaStorePrivate;

#define FOLKS_DUMMY_TYPE_PERSONA (folks_dummy_persona_get_type ())
#define FOLKS_DUMMY_PERSONA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), FOLKS_DUMMY_TYPE_PERSONA, FolksDummyPersona))
#define FOLKS_DUMMY_PERSONA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), FOLKS_DUMMY_TYPE_PERSONA, FolksDummyPersonaClass))
#define FOLKS_DUMMY_IS_PERSONA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), FOLKS_DUMMY_TYPE_PERSONA))
#define FOLKS_DUMMY_IS_PERSONA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), FOLKS_DUMMY_TYPE_PERSONA))
#define FOLKS_DUMMY_PERSONA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), FOLKS_DUMMY_TYPE_PERSONA, FolksDummyPersonaClass))

typedef struct _FolksDummyPersona FolksDummyPersona;
typedef struct _FolksDummyPersonaClass FolksDummyPersonaClass;
enum  {
	FOLKS_DUMMY_PERSONA_STORE_0_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_TYPE_ID_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_CAN_ADD_PERSONAS_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_CAN_ALIAS_PERSONAS_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_CAN_GROUP_PERSONAS_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_CAN_REMOVE_PERSONAS_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_IS_PREPARED_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_ALWAYS_WRITEABLE_PROPERTIES_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_IS_QUIESCENT_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_PERSONAS_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_PERSONA_TYPE_PROPERTY,
	FOLKS_DUMMY_PERSONA_STORE_NUM_PROPERTIES
};
static GParamSpec* folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _FolksDummyPersonaStoreAddPersonaFromDetailsData FolksDummyPersonaStoreAddPersonaFromDetailsData;
typedef struct _FolksDummyPersonaStoreRemovePersonaData FolksDummyPersonaStoreRemovePersonaData;
typedef struct _FolksDummyPersonaStorePrepareData FolksDummyPersonaStorePrepareData;
typedef struct _Block2Data Block2Data;
typedef struct _FolksDummyPersonaStoreImplementMockDelayData FolksDummyPersonaStoreImplementMockDelayData;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _FolksDummyPersonaStore {
	FolksPersonaStore parent_instance;
	FolksDummyPersonaStorePrivate * priv;
};

struct _FolksDummyPersonaStoreClass {
	FolksPersonaStoreClass parent_class;
};

typedef gint (*FolksDummyPersonaStoreAddPersonaFromDetailsMock) (FolksDummyPersona* persona, gpointer user_data, GError** error);
typedef gint (*FolksDummyPersonaStoreRemovePersonaMock) (FolksDummyPersona* persona, gpointer user_data, GError** error);
typedef gint (*FolksDummyPersonaStorePrepareMock) (gpointer user_data, GError** error);
struct _FolksDummyPersonaStorePrivate {
	gboolean _is_prepared;
	gboolean _prepare_pending;
	gboolean _is_quiescent;
	gboolean _quiescent_on_prepare;
	gint _contact_id;
	FolksMaybeBool _can_add_personas;
	FolksMaybeBool _can_alias_personas;
	FolksMaybeBool _can_remove_personas;
	gchar** _always_writeable_properties;
	gint _always_writeable_properties_length1;
	gint __always_writeable_properties_size_;
	GeeHashMap* _personas;
	GeeMap* _personas_ro;
	GeeHashSet* _pending_persona_registrations;
	GeeHashSet* _pending_persona_unregistrations;
	guint _personas_changed_frozen;
	FolksDummyPersonaStoreAddPersonaFromDetailsMock _add_persona_from_details_mock;
	gpointer _add_persona_from_details_mock_target;
	FolksDummyPersonaStoreRemovePersonaMock _remove_persona_mock;
	gpointer _remove_persona_mock_target;
	FolksDummyPersonaStorePrepareMock _prepare_mock;
	gpointer _prepare_mock_target;
	GType _persona_type;
};

struct _FolksDummyPersonaStoreAddPersonaFromDetailsData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	FolksDummyPersonaStore* self;
	GHashTable* details;
	FolksPersona* result;
	gboolean _tmp0_;
	GError* _tmp1_;
	gchar* contact_id;
	gint _tmp2_;
	gchar* _tmp3_;
	gint _tmp4_;
	gchar* uid;
	const gchar* _tmp5_;
	const gchar* _tmp6_;
	const gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* iid;
	const gchar* _tmp9_;
	const gchar* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	const gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	FolksDummyPersona* persona;
	GType _tmp16_;
	const gchar* _tmp17_;
	const gchar* _tmp18_;
	const gchar* _tmp19_;
	GObject* _tmp20_;
	GObject* _tmp21_;
	FolksDummyPersona* _tmp22_;
	FolksDummyPersona* _tmp23_;
	FolksDummyPersona* _tmp24_;
	gchar** _tmp25_;
	gint _tmp25__length1;
	gchar** _tmp26_;
	gint _tmp26__length1;
	GValue* v;
	const gchar* _tmp27_;
	gconstpointer _tmp28_;
	FolksNameDetails* p_name;
	FolksDummyPersona* _tmp29_;
	FolksNameDetails* _tmp30_;
	gboolean _tmp31_;
	FolksNameDetails* _tmp32_;
	GValue* _tmp33_;
	const gchar* _tmp34_;
	GValue* _tmp35_;
	GValue _tmp36_;
	const gchar* _tmp37_;
	gchar* full_name;
	gchar* _tmp38_;
	FolksNameDetails* _tmp39_;
	const gchar* _tmp40_;
	const gchar* _tmp41_;
	gconstpointer _tmp42_;
	gboolean _tmp43_;
	FolksNameDetails* _tmp44_;
	GValue* _tmp45_;
	FolksStructuredName* sname;
	GValue* _tmp46_;
	GValue _tmp47_;
	GObject* _tmp48_;
	FolksStructuredName* _tmp49_;
	FolksStructuredName* _tmp50_;
	FolksNameDetails* _tmp51_;
	FolksStructuredName* _tmp52_;
	const gchar* _tmp53_;
	gconstpointer _tmp54_;
	gboolean _tmp55_;
	FolksNameDetails* _tmp56_;
	GValue* _tmp57_;
	const gchar* _tmp58_;
	GValue* _tmp59_;
	GValue _tmp60_;
	const gchar* _tmp61_;
	gchar* nickname;
	gchar* _tmp62_;
	FolksNameDetails* _tmp63_;
	const gchar* _tmp64_;
	const gchar* _tmp65_;
	gconstpointer _tmp66_;
	FolksEmailDetails* p_email;
	FolksDummyPersona* _tmp67_;
	FolksEmailDetails* _tmp68_;
	gboolean _tmp69_;
	FolksEmailDetails* _tmp70_;
	GValue* _tmp71_;
	GeeSet* email_addresses;
	GValue* _tmp72_;
	GValue _tmp73_;
	GObject* _tmp74_;
	GeeSet* _tmp75_;
	GeeSet* _tmp76_;
	FolksEmailDetails* _tmp77_;
	GeeSet* _tmp78_;
	const gchar* _tmp79_;
	gconstpointer _tmp80_;
	FolksAvatarDetails* p_avatar;
	FolksDummyPersona* _tmp81_;
	FolksAvatarDetails* _tmp82_;
	gboolean _tmp83_;
	FolksAvatarDetails* _tmp84_;
	GValue* _tmp85_;
	GLoadableIcon* avatar;
	GValue* _tmp86_;
	GValue _tmp87_;
	GObject* _tmp88_;
	GLoadableIcon* _tmp89_;
	GLoadableIcon* _tmp90_;
	FolksAvatarDetails* _tmp91_;
	GLoadableIcon* _tmp92_;
	const gchar* _tmp93_;
	gconstpointer _tmp94_;
	FolksImDetails* p_im;
	FolksDummyPersona* _tmp95_;
	FolksImDetails* _tmp96_;
	gboolean _tmp97_;
	FolksImDetails* _tmp98_;
	GValue* _tmp99_;
	GeeMultiMap* im_addresses;
	GValue* _tmp100_;
	GValue _tmp101_;
	GObject* _tmp102_;
	GeeMultiMap* _tmp103_;
	GeeMultiMap* _tmp104_;
	FolksImDetails* _tmp105_;
	GeeMultiMap* _tmp106_;
	const gchar* _tmp107_;
	gconstpointer _tmp108_;
	FolksPhoneDetails* p_phone;
	FolksDummyPersona* _tmp109_;
	FolksPhoneDetails* _tmp110_;
	gboolean _tmp111_;
	FolksPhoneDetails* _tmp112_;
	GValue* _tmp113_;
	GeeSet* phone_numbers;
	GValue* _tmp114_;
	GValue _tmp115_;
	GObject* _tmp116_;
	GeeSet* _tmp117_;
	GeeSet* _tmp118_;
	FolksPhoneDetails* _tmp119_;
	GeeSet* _tmp120_;
	const gchar* _tmp121_;
	gconstpointer _tmp122_;
	FolksPostalAddressDetails* p_postal;
	FolksDummyPersona* _tmp123_;
	FolksPostalAddressDetails* _tmp124_;
	gboolean _tmp125_;
	FolksPostalAddressDetails* _tmp126_;
	GValue* _tmp127_;
	GeeSet* postal_fds;
	GValue* _tmp128_;
	GValue _tmp129_;
	GObject* _tmp130_;
	GeeSet* _tmp131_;
	GeeSet* _tmp132_;
	FolksPostalAddressDetails* _tmp133_;
	GeeSet* _tmp134_;
	const gchar* _tmp135_;
	gconstpointer _tmp136_;
	FolksLocalIdDetails* p_local;
	FolksDummyPersona* _tmp137_;
	FolksLocalIdDetails* _tmp138_;
	gboolean _tmp139_;
	FolksLocalIdDetails* _tmp140_;
	GValue* _tmp141_;
	GeeSet* local_ids;
	GValue* _tmp142_;
	GValue _tmp143_;
	GObject* _tmp144_;
	GeeSet* _tmp145_;
	GeeSet* _tmp146_;
	FolksLocalIdDetails* _tmp147_;
	GeeSet* _tmp148_;
	const gchar* _tmp149_;
	gconstpointer _tmp150_;
	FolksWebServiceDetails* p_web;
	FolksDummyPersona* _tmp151_;
	FolksWebServiceDetails* _tmp152_;
	gboolean _tmp153_;
	FolksWebServiceDetails* _tmp154_;
	GValue* _tmp155_;
	GeeHashMultiMap* addrs;
	GValue* _tmp156_;
	GValue _tmp157_;
	GObject* _tmp158_;
	GeeHashMultiMap* _tmp159_;
	GeeHashMultiMap* _tmp160_;
	FolksWebServiceDetails* _tmp161_;
	GeeHashMultiMap* _tmp162_;
	const gchar* _tmp163_;
	gconstpointer _tmp164_;
	FolksNoteDetails* p_note;
	FolksDummyPersona* _tmp165_;
	FolksNoteDetails* _tmp166_;
	gboolean _tmp167_;
	FolksNoteDetails* _tmp168_;
	GValue* _tmp169_;
	GeeHashSet* notes;
	GValue* _tmp170_;
	GValue _tmp171_;
	GObject* _tmp172_;
	GeeHashSet* _tmp173_;
	GeeHashSet* _tmp174_;
	FolksNoteDetails* _tmp175_;
	GeeHashSet* _tmp176_;
	const gchar* _tmp177_;
	gconstpointer _tmp178_;
	FolksGenderDetails* p_gender;
	FolksDummyPersona* _tmp179_;
	FolksGenderDetails* _tmp180_;
	gboolean _tmp181_;
	FolksGenderDetails* _tmp182_;
	GValue* _tmp183_;
	FolksGender gender;
	GValue* _tmp184_;
	GValue _tmp185_;
	FolksGenderDetails* _tmp186_;
	FolksGender _tmp187_;
	const gchar* _tmp188_;
	gconstpointer _tmp189_;
	FolksUrlDetails* p_url;
	FolksDummyPersona* _tmp190_;
	FolksUrlDetails* _tmp191_;
	gboolean _tmp192_;
	FolksUrlDetails* _tmp193_;
	GValue* _tmp194_;
	GeeSet* urls;
	GValue* _tmp195_;
	GValue _tmp196_;
	GObject* _tmp197_;
	GeeSet* _tmp198_;
	GeeSet* _tmp199_;
	FolksUrlDetails* _tmp200_;
	GeeSet* _tmp201_;
	const gchar* _tmp202_;
	gconstpointer _tmp203_;
	FolksBirthdayDetails* p_birthday;
	FolksDummyPersona* _tmp204_;
	FolksBirthdayDetails* _tmp205_;
	gboolean _tmp206_;
	FolksBirthdayDetails* _tmp207_;
	GValue* _tmp208_;
	GDateTime* birthday;
	GValue* _tmp209_;
	GValue _tmp210_;
	void* _tmp211_;
	GDateTime* _tmp212_;
	GDateTime* _tmp213_;
	FolksBirthdayDetails* _tmp214_;
	GDateTime* _tmp215_;
	const gchar* _tmp216_;
	gconstpointer _tmp217_;
	FolksRoleDetails* p_role;
	FolksDummyPersona* _tmp218_;
	FolksRoleDetails* _tmp219_;
	gboolean _tmp220_;
	FolksRoleDetails* _tmp221_;
	GValue* _tmp222_;
	GeeSet* roles;
	GValue* _tmp223_;
	GValue _tmp224_;
	GObject* _tmp225_;
	GeeSet* _tmp226_;
	GeeSet* _tmp227_;
	FolksRoleDetails* _tmp228_;
	GeeSet* _tmp229_;
	const gchar* _tmp230_;
	gconstpointer _tmp231_;
	FolksFavouriteDetails* p_favourite;
	FolksDummyPersona* _tmp232_;
	FolksFavouriteDetails* _tmp233_;
	gboolean _tmp234_;
	FolksFavouriteDetails* _tmp235_;
	GValue* _tmp236_;
	gboolean is_fav;
	GValue* _tmp237_;
	GValue _tmp238_;
	FolksFavouriteDetails* _tmp239_;
	gboolean _tmp240_;
	GError* e1;
	GError* _tmp241_;
	const gchar* _tmp242_;
	GError* _tmp243_;
	FolksDummyPersonaStoreAddPersonaFromDetailsMock _tmp244_;
	void* _tmp244__target;
	gint delay;
	FolksDummyPersonaStoreAddPersonaFromDetailsMock _tmp245_;
	void* _tmp245__target;
	FolksDummyPersona* _tmp246_;
	gint _tmp247_;
	GeeHashMap* _tmp248_;
	FolksDummyPersona* _tmp249_;
	const gchar* _tmp250_;
	const gchar* _tmp251_;
	FolksDummyPersona* _tmp252_;
	GeeHashSet* added_personas;
	GeeHashSet* _tmp253_;
	GeeHashSet* _tmp254_;
	FolksDummyPersona* _tmp255_;
	GeeHashSet* _tmp256_;
	GError * _inner_error_;
};

struct _FolksDummyPersonaStoreRemovePersonaData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	FolksDummyPersonaStore* self;
	FolksPersona* persona;
	gboolean _tmp0_;
	GError* _tmp1_;
	FolksDummyPersonaStoreRemovePersonaMock _tmp2_;
	void* _tmp2__target;
	gint delay;
	FolksDummyPersonaStoreRemovePersonaMock _tmp3_;
	void* _tmp3__target;
	gint _tmp4_;
	FolksDummyPersona* _persona;
	GeeHashMap* _tmp5_;
	const gchar* _tmp6_;
	const gchar* _tmp7_;
	gpointer _tmp8_;
	FolksDummyPersona* _tmp9_;
	GeeHashMap* _tmp10_;
	const gchar* _tmp11_;
	const gchar* _tmp12_;
	GeeHashSet* _tmp13_;
	FolksDummyPersona* _tmp14_;
	GeeHashSet* _tmp15_;
	FolksDummyPersona* _tmp16_;
	GeeHashSet* removed_personas;
	GeeHashSet* _tmp17_;
	GeeHashSet* _tmp18_;
	GeeHashSet* _tmp19_;
	GError * _inner_error_;
};

struct _FolksDummyPersonaStorePrepareData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	FolksDummyPersonaStore* self;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
	FolksDummyPersonaStorePrepareMock _tmp5_;
	void* _tmp5__target;
	gint delay;
	FolksDummyPersonaStorePrepareMock _tmp6_;
	void* _tmp6__target;
	gint _tmp7_;
	gboolean _tmp8_;
	GError * _inner_error_;
};

struct _Block2Data {
	int _ref_count_;
	FolksDummyPersonaStore* self;
	gpointer _async_data_;
};

struct _FolksDummyPersonaStoreImplementMockDelayData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	GAsyncReadyCallback _callback_;
	gboolean _task_complete_;
	FolksDummyPersonaStore* self;
	gint delay;
	Block2Data* _data2_;
};


static gpointer folks_dummy_persona_store_parent_class = NULL;
static gchar** folks_dummy_persona_store__always_writeable_properties_empty;
static gint folks_dummy_persona_store__always_writeable_properties_empty_length1;
static gchar** folks_dummy_persona_store__always_writeable_properties_empty = NULL;
static gint folks_dummy_persona_store__always_writeable_properties_empty_length1 = 0;
static gint _folks_dummy_persona_store__always_writeable_properties_empty_size_ = 0;

GType folks_dummy_persona_store_get_type (void) G_GNUC_CONST;
GType folks_dummy_persona_get_type (void) G_GNUC_CONST;
#define FOLKS_DUMMY_PERSONA_STORE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), FOLKS_DUMMY_TYPE_PERSONA_STORE, FolksDummyPersonaStorePrivate))
FolksDummyPersonaStore* folks_dummy_persona_store_new (const gchar* id,
                                                       const gchar* display_name,
                                                       gchar** always_writeable_properties,
                                                       int always_writeable_properties_length1);
FolksDummyPersonaStore* folks_dummy_persona_store_construct (GType object_type,
                                                             const gchar* id,
                                                             const gchar* display_name,
                                                             gchar** always_writeable_properties,
                                                             int always_writeable_properties_length1);
static gchar** _vala_array_dup4 (gchar** self,
                          int length);
static void folks_dummy_persona_store_real_add_persona_from_details_data_free (gpointer _data);
static void folks_dummy_persona_store_real_add_persona_from_details_async_ready_wrapper (GObject *source_object,
                                                                                  GAsyncResult *res,
                                                                                  void *user_data);
static void folks_dummy_persona_store_real_add_persona_from_details (FolksPersonaStore* base,
                                                              GHashTable* details,
                                                              GAsyncReadyCallback _callback_,
                                                              gpointer _user_data_);
static gboolean folks_dummy_persona_store_real_add_persona_from_details_co (FolksDummyPersonaStoreAddPersonaFromDetailsData* _data_);
void folks_dummy_persona_update_writeable_properties (FolksDummyPersona* self,
                                                      gchar** writeable_properties,
                                                      int writeable_properties_length1);
static void folks_dummy_persona_store_add_persona_from_details_ready (GObject* source_object,
                                                               GAsyncResult* _res_,
                                                               gpointer _user_data_);
static void _folks_dummy_persona_store_implement_mock_delay (FolksDummyPersonaStore* self,
                                                      gint delay,
                                                      GAsyncReadyCallback _callback_,
                                                      gpointer _user_data_);
static void _folks_dummy_persona_store_implement_mock_delay_finish (FolksDummyPersonaStore* self,
                                                             GAsyncResult* _res_);
static void folks_dummy_persona_store_real_remove_persona_data_free (gpointer _data);
static void folks_dummy_persona_store_real_remove_persona_async_ready_wrapper (GObject *source_object,
                                                                        GAsyncResult *res,
                                                                        void *user_data);
static void folks_dummy_persona_store_real_remove_persona (FolksPersonaStore* base,
                                                    FolksPersona* persona,
                                                    GAsyncReadyCallback _callback_,
                                                    gpointer _user_data_);
static gboolean folks_dummy_persona_store_real_remove_persona_co (FolksDummyPersonaStoreRemovePersonaData* _data_);
static void folks_dummy_persona_store_remove_persona_ready (GObject* source_object,
                                                     GAsyncResult* _res_,
                                                     gpointer _user_data_);
static void folks_dummy_persona_store_real_prepare_data_free (gpointer _data);
static void folks_dummy_persona_store_real_prepare_async_ready_wrapper (GObject *source_object,
                                                                 GAsyncResult *res,
                                                                 void *user_data);
static void folks_dummy_persona_store_real_prepare (FolksPersonaStore* base,
                                             GAsyncReadyCallback _callback_,
                                             gpointer _user_data_);
static gboolean folks_dummy_persona_store_real_prepare_co (FolksDummyPersonaStorePrepareData* _data_);
static void folks_dummy_persona_store_prepare_ready (GObject* source_object,
                                              GAsyncResult* _res_,
                                              gpointer _user_data_);
void folks_dummy_persona_store_reach_quiescence (FolksDummyPersonaStore* self);
static void _folks_dummy_persona_store_implement_mock_delay_data_free (gpointer _data);
static void _folks_dummy_persona_store_implement_mock_delay_async_ready_wrapper (GObject *source_object,
                                                                          GAsyncResult *res,
                                                                          void *user_data);
static gboolean _folks_dummy_persona_store_implement_mock_delay_co (FolksDummyPersonaStoreImplementMockDelayData* _data_);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static gboolean ____lambda6_ (Block2Data* _data2_);
static gboolean _____lambda6__gsource_func (gpointer self);
static gboolean ____lambda7_ (Block2Data* _data2_);
static gboolean _____lambda7__gsource_func (gpointer self);
void folks_dummy_persona_store_update_capabilities (FolksDummyPersonaStore* self,
                                                    FolksMaybeBool can_add_personas,
                                                    FolksMaybeBool can_alias_personas,
                                                    FolksMaybeBool can_remove_personas);
void folks_dummy_persona_store_freeze_personas_changed (FolksDummyPersonaStore* self);
void folks_dummy_persona_store_thaw_personas_changed (FolksDummyPersonaStore* self);
void folks_dummy_persona_store_register_personas (FolksDummyPersonaStore* self,
                                                  GeeSet* personas);
void folks_dummy_persona_store_unregister_personas (FolksDummyPersonaStore* self,
                                                    GeeSet* personas);
void folks_dummy_persona_store_update_is_user_set_default (FolksDummyPersonaStore* self,
                                                           gboolean is_user_set_default);
void folks_dummy_persona_store_update_trust_level (FolksDummyPersonaStore* self,
                                                   FolksPersonaStoreTrust trust_level);
void folks_dummy_persona_store_set_add_persona_from_details_mock (FolksDummyPersonaStore* self,
                                                                  FolksDummyPersonaStoreAddPersonaFromDetailsMock mock,
                                                                  gpointer mock_target);
void folks_dummy_persona_store_set_remove_persona_mock (FolksDummyPersonaStore* self,
                                                        FolksDummyPersonaStoreRemovePersonaMock mock,
                                                        gpointer mock_target);
void folks_dummy_persona_store_set_prepare_mock (FolksDummyPersonaStore* self,
                                                 FolksDummyPersonaStorePrepareMock mock,
                                                 gpointer mock_target);
static gboolean _vala_string_array_contains (gchar* * stack,
                                      int stack_length,
                                      gchar* needle);
GType folks_dummy_persona_store_get_persona_type (FolksDummyPersonaStore* self);
void folks_dummy_persona_store_set_persona_type (FolksDummyPersonaStore* self,
                                                 GType value);
static GObject * folks_dummy_persona_store_constructor (GType type,
                                                 guint n_construct_properties,
                                                 GObjectConstructParam * construct_properties);
static void folks_dummy_persona_store_finalize (GObject * obj);
static void _vala_folks_dummy_persona_store_get_property (GObject * object,
                                                   guint property_id,
                                                   GValue * value,
                                                   GParamSpec * pspec);
static void _vala_folks_dummy_persona_store_set_property (GObject * object,
                                                   guint property_id,
                                                   const GValue * value,
                                                   GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);


/**
   * Create a new persona store.
   *
   * This store will have no personas to begin with; use
   * {@link FolksDummy.PersonaStore.register_personas} to add some, then call
   * {@link FolksDummy.PersonaStore.reach_quiescence} to signal the store
   * reaching quiescence.
   *
   * @param id The new store's ID.
   * @param display_name The new store's display name.
   * @param always_writeable_properties The set of always writeable properties.
   *
   * @since 0.9.7
   */
static gchar**
_vala_array_dup4 (gchar** self,
                  int length)
{
	gchar** result;
	int i;
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = g_new0 (gchar*, length + 1);
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	for (i = 0; i < length; i++) {
#line 668 "dummy-persona-store.c"
		gchar* _tmp0_;
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp0_ = g_strdup (self[i]);
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		result[i] = _tmp0_;
#line 674 "dummy-persona-store.c"
	}
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 678 "dummy-persona-store.c"
}


FolksDummyPersonaStore*
folks_dummy_persona_store_construct (GType object_type,
                                     const gchar* id,
                                     const gchar* display_name,
                                     gchar** always_writeable_properties,
                                     int always_writeable_properties_length1)
{
	FolksDummyPersonaStore * self = NULL;
	gchar** _tmp0_;
	gint _tmp0__length1;
#line 247 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_val_if_fail (id != NULL, NULL);
#line 247 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_val_if_fail (display_name != NULL, NULL);
#line 250 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) g_object_new (object_type, "id", id, "display-name", display_name, NULL);
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = (always_writeable_properties != NULL) ? _vala_array_dup4 (always_writeable_properties, always_writeable_properties_length1) : ((gpointer) always_writeable_properties);
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0__length1 = always_writeable_properties_length1;
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_always_writeable_properties = (_vala_array_free (self->priv->_always_writeable_properties, self->priv->_always_writeable_properties_length1, (GDestroyNotify) g_free), NULL);
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_always_writeable_properties = _tmp0_;
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_always_writeable_properties_length1 = _tmp0__length1;
#line 254 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->__always_writeable_properties_size_ = self->priv->_always_writeable_properties_length1;
#line 247 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return self;
#line 712 "dummy-persona-store.c"
}


FolksDummyPersonaStore*
folks_dummy_persona_store_new (const gchar* id,
                               const gchar* display_name,
                               gchar** always_writeable_properties,
                               int always_writeable_properties_length1)
{
#line 247 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return folks_dummy_persona_store_construct (FOLKS_DUMMY_TYPE_PERSONA_STORE, id, display_name, always_writeable_properties, always_writeable_properties_length1);
#line 724 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_add_persona_from_details_data_free (gpointer _data)
{
	FolksDummyPersonaStoreAddPersonaFromDetailsData* _data_;
	_data_ = _data;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_hash_table_unref0 (_data_->details);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->result);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->self);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_slice_free (FolksDummyPersonaStoreAddPersonaFromDetailsData, _data_);
#line 741 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_add_persona_from_details_async_ready_wrapper (GObject *source_object,
                                                                             GAsyncResult *res,
                                                                             void *user_data)
{
	FolksDummyPersonaStoreAddPersonaFromDetailsData* _task_data_;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 757 "dummy-persona-store.c"
	}
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 761 "dummy-persona-store.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return self ? g_object_ref (self) : NULL;
#line 770 "dummy-persona-store.c"
}


static gpointer
_g_hash_table_ref0 (gpointer self)
{
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return self ? g_hash_table_ref (self) : NULL;
#line 779 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_add_persona_from_details (FolksPersonaStore* base,
                                                         GHashTable* details,
                                                         GAsyncReadyCallback _callback_,
                                                         gpointer _user_data_)
{
	FolksDummyPersonaStore * self;
	FolksDummyPersonaStoreAddPersonaFromDetailsData* _data_;
	FolksDummyPersonaStore* _tmp0_;
	GHashTable* _tmp1_;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = g_slice_new0 (FolksDummyPersonaStoreAddPersonaFromDetailsData);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_callback_ = _callback_;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, folks_dummy_persona_store_real_add_persona_from_details_async_ready_wrapper, _user_data_);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_callback_ == NULL) {
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_task_complete_ = TRUE;
#line 805 "dummy-persona-store.c"
	}
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, folks_dummy_persona_store_real_add_persona_from_details_data_free);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->self = _tmp0_;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = _g_hash_table_ref0 (details);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_hash_table_unref0 (_data_->details);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->details = _tmp1_;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store_real_add_persona_from_details_co (_data_);
#line 821 "dummy-persona-store.c"
}


static FolksPersona*
folks_dummy_persona_store_real_add_persona_from_details_finish (FolksPersonaStore* base,
                                                                GAsyncResult* _res_,
                                                                GError** error)
{
	FolksPersona* result;
	FolksDummyPersonaStoreAddPersonaFromDetailsData* _data_;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (NULL == _data_) {
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return NULL;
#line 838 "dummy-persona-store.c"
	}
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _data_->result;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->result = NULL;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 846 "dummy-persona-store.c"
}


/**
   * Add a new {@link Persona} to the PersonaStore.
   *
   * Accepted keys for ``details`` are:
   * - PersonaStore.detail_key (PersonaDetail.AVATAR)
   * - PersonaStore.detail_key (PersonaDetail.BIRTHDAY)
   * - PersonaStore.detail_key (PersonaDetail.EMAIL_ADDRESSES)
   * - PersonaStore.detail_key (PersonaDetail.FULL_NAME)
   * - PersonaStore.detail_key (PersonaDetail.GENDER)
   * - PersonaStore.detail_key (PersonaDetail.IM_ADDRESSES)
   * - PersonaStore.detail_key (PersonaDetail.IS_FAVOURITE)
   * - PersonaStore.detail_key (PersonaDetail.PHONE_NUMBERS)
   * - PersonaStore.detail_key (PersonaDetail.POSTAL_ADDRESSES)
   * - PersonaStore.detail_key (PersonaDetail.ROLES)
   * - PersonaStore.detail_key (PersonaDetail.STRUCTURED_NAME)
   * - PersonaStore.detail_key (PersonaDetail.LOCAL_IDS)
   * - PersonaStore.detail_key (PersonaDetail.WEB_SERVICE_ADDRESSES)
   * - PersonaStore.detail_key (PersonaDetail.NOTES)
   * - PersonaStore.detail_key (PersonaDetail.URLS)
   *
   * See {@link Folks.PersonaStore.add_persona_from_details}.
   *
   * @param details key–value pairs giving the new persona’s details
   * @throws Folks.PersonaStoreError.STORE_OFFLINE if the store hasn’t been
   * prepared
   * @throws Folks.PersonaStoreError.CREATE_FAILED if creating the persona in
   * the dummy store failed
   *
   * @since 0.9.7
   */
static void
folks_dummy_persona_store_add_persona_from_details_ready (GObject* source_object,
                                                          GAsyncResult* _res_,
                                                          gpointer _user_data_)
{
	FolksDummyPersonaStoreAddPersonaFromDetailsData* _data_;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = _user_data_;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_source_object_ = source_object;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_res_ = _res_;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_task_complete_ = TRUE;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store_real_add_persona_from_details_co (_data_);
#line 896 "dummy-persona-store.c"
}


static gpointer
_g_date_time_ref0 (gpointer self)
{
#line 460 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return self ? g_date_time_ref (self) : NULL;
#line 905 "dummy-persona-store.c"
}


static gboolean
folks_dummy_persona_store_real_add_persona_from_details_co (FolksDummyPersonaStoreAddPersonaFromDetailsData* _data_)
{
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	switch (_data_->_state_) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 0:
#line 916 "dummy-persona-store.c"
		goto _state_0;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 1:
#line 920 "dummy-persona-store.c"
		goto _state_1;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 2:
#line 924 "dummy-persona-store.c"
		goto _state_2;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 3:
#line 928 "dummy-persona-store.c"
		goto _state_3;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 4:
#line 932 "dummy-persona-store.c"
		goto _state_4;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 5:
#line 936 "dummy-persona-store.c"
		goto _state_5;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 6:
#line 940 "dummy-persona-store.c"
		goto _state_6;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 7:
#line 944 "dummy-persona-store.c"
		goto _state_7;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 8:
#line 948 "dummy-persona-store.c"
		goto _state_8;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 9:
#line 952 "dummy-persona-store.c"
		goto _state_9;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 10:
#line 956 "dummy-persona-store.c"
		goto _state_10;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 11:
#line 960 "dummy-persona-store.c"
		goto _state_11;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 12:
#line 964 "dummy-persona-store.c"
		goto _state_12;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 13:
#line 968 "dummy-persona-store.c"
		goto _state_13;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 14:
#line 972 "dummy-persona-store.c"
		goto _state_14;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 15:
#line 976 "dummy-persona-store.c"
		goto _state_15;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 16:
#line 980 "dummy-persona-store.c"
		goto _state_16;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 17:
#line 984 "dummy-persona-store.c"
		goto _state_17;
		default:
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_assert_not_reached ();
#line 989 "dummy-persona-store.c"
	}
	_state_0:
#line 299 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp0_ = _data_->self->priv->_is_prepared;
#line 299 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (!_data_->_tmp0_) {
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp1_ = g_error_new_literal (FOLKS_PERSONA_STORE_ERROR, FOLKS_PERSONA_STORE_ERROR_STORE_OFFLINE, "Persona store has not yet been prepared.");
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_inner_error_ = _data_->_tmp1_;
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_inner_error_->domain == FOLKS_PERSONA_STORE_ERROR) {
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_object_unref (_data_->_async_result);
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 1008 "dummy-persona-store.c"
		} else {
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_clear_error (&_data_->_inner_error_);
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_object_unref (_data_->_async_result);
#line 301 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 1018 "dummy-persona-store.c"
		}
	}
#line 306 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp2_ = _data_->self->priv->_contact_id;
#line 306 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp3_ = g_strdup_printf ("%i", _data_->_tmp2_);
#line 306 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->contact_id = _data_->_tmp3_;
#line 307 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp4_ = _data_->self->priv->_contact_id;
#line 307 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->self->priv->_contact_id = _data_->_tmp4_ + 1;
#line 308 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp5_ = folks_persona_store_get_id ((FolksPersonaStore*) _data_->self);
#line 308 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp6_ = _data_->_tmp5_;
#line 308 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp7_ = _data_->contact_id;
#line 308 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp8_ = folks_persona_build_uid (BACKEND_NAME, _data_->_tmp6_, _data_->_tmp7_);
#line 308 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->uid = _data_->_tmp8_;
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp9_ = folks_persona_store_get_id ((FolksPersonaStore*) _data_->self);
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp10_ = _data_->_tmp9_;
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp11_ = g_strconcat (_data_->_tmp10_, ":", NULL);
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp12_ = _data_->_tmp11_;
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp13_ = _data_->contact_id;
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp14_ = g_strconcat (_data_->_tmp12_, _data_->_tmp13_, NULL);
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp15_ = _data_->_tmp14_;
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_free0 (_data_->_tmp12_);
#line 309 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->iid = _data_->_tmp15_;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp16_ = _data_->self->priv->_persona_type;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp17_ = _data_->contact_id;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp18_ = _data_->uid;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp19_ = _data_->iid;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp20_ = g_object_new (_data_->_tmp16_, "display-id", _data_->_tmp17_, "uid", _data_->_tmp18_, "iid", _data_->_tmp19_, "store", _data_->self, "is-user", FALSE, NULL, NULL);
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp21_ = G_IS_INITIALLY_UNOWNED (_data_->_tmp20_) ? g_object_ref_sink (_data_->_tmp20_) : _data_->_tmp20_;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp22_ = G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp21_, FOLKS_DUMMY_TYPE_PERSONA) ? ((FolksDummyPersona*) _data_->_tmp21_) : NULL;
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_tmp22_ == NULL) {
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->_tmp21_);
#line 1077 "dummy-persona-store.c"
	}
#line 311 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->persona = _data_->_tmp22_;
#line 318 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp23_ = _data_->persona;
#line 318 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_vala_assert (_data_->_tmp23_ != NULL, "persona != null");
#line 319 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp24_ = _data_->persona;
#line 319 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp25_ = folks_persona_store_get_always_writeable_properties ((FolksPersonaStore*) _data_->self, &_data_->_tmp25__length1);
#line 319 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp26_ = _data_->_tmp25_;
#line 319 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp26__length1 = _data_->_tmp25__length1;
#line 319 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_update_writeable_properties (_data_->_tmp24_, _data_->_tmp26_, _data_->_tmp26__length1);
#line 1095 "dummy-persona-store.c"
	{
#line 325 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp27_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_FULL_NAME);
#line 325 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp28_ = g_hash_table_lookup (_data_->details, _data_->_tmp27_);
#line 325 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp28_;
#line 327 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp29_ = _data_->persona;
#line 327 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp30_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp29_, FOLKS_TYPE_NAME_DETAILS) ? ((FolksNameDetails*) _data_->_tmp29_) : NULL);
#line 327 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_name = _data_->_tmp30_;
#line 328 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp32_ = _data_->p_name;
#line 328 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp32_ != NULL) {
#line 328 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp33_ = _data_->v;
#line 328 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp31_ = _data_->_tmp33_ != NULL;
#line 1117 "dummy-persona-store.c"
		} else {
#line 328 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp31_ = FALSE;
#line 1121 "dummy-persona-store.c"
		}
#line 328 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp31_) {
#line 330 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp35_ = _data_->v;
#line 330 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp36_ = (GValue) (*_data_->_tmp35_);
#line 330 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp37_ = g_value_get_string (&_data_->_tmp36_);
#line 330 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp34_ = _data_->_tmp37_;
#line 330 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp34_ == NULL) {
#line 330 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp34_ = "";
#line 1137 "dummy-persona-store.c"
			}
#line 330 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp38_ = g_strdup (_data_->_tmp34_);
#line 330 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->full_name = _data_->_tmp38_;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp39_ = _data_->p_name;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp40_ = _data_->full_name;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_state_ = 1;
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_name_details_change_full_name (_data_->_tmp39_, _data_->_tmp40_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 1153 "dummy-persona-store.c"
			_state_1:
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_name_details_change_full_name_finish (_data_->_tmp39_, _data_->_res_, &_data_->_inner_error_);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->full_name);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_name);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1165 "dummy-persona-store.c"
					goto __catch2_folks_property_error;
				}
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->full_name);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_name);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->persona);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->iid);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->uid);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->contact_id);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_clear_error (&_data_->_inner_error_);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_object_unref (_data_->_async_result);
#line 331 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1188 "dummy-persona-store.c"
			}
#line 328 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_free0 (_data_->full_name);
#line 1192 "dummy-persona-store.c"
		}
#line 334 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp41_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_STRUCTURED_NAME);
#line 334 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp42_ = g_hash_table_lookup (_data_->details, _data_->_tmp41_);
#line 334 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp42_;
#line 336 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp44_ = _data_->p_name;
#line 336 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp44_ != NULL) {
#line 336 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp45_ = _data_->v;
#line 336 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp43_ = _data_->_tmp45_ != NULL;
#line 1208 "dummy-persona-store.c"
		} else {
#line 336 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp43_ = FALSE;
#line 1212 "dummy-persona-store.c"
		}
#line 336 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp43_) {
#line 338 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp46_ = _data_->v;
#line 338 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp47_ = (GValue) (*_data_->_tmp46_);
#line 338 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp48_ = g_value_get_object (&_data_->_tmp47_);
#line 338 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp49_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp48_, FOLKS_TYPE_STRUCTURED_NAME, FolksStructuredName));
#line 338 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->sname = _data_->_tmp49_;
#line 339 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp50_ = _data_->sname;
#line 339 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp50_ != NULL) {
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp51_ = _data_->p_name;
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp52_ = _data_->sname;
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 2;
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_name_details_change_structured_name (_data_->_tmp51_, _data_->_tmp52_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1240 "dummy-persona-store.c"
				_state_2:
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_name_details_change_structured_name_finish (_data_->_tmp51_, _data_->_res_, &_data_->_inner_error_);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->sname);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1252 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->sname);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 340 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 1275 "dummy-persona-store.c"
				}
			}
#line 336 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->sname);
#line 1280 "dummy-persona-store.c"
		}
#line 343 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp53_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_NICKNAME);
#line 343 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp54_ = g_hash_table_lookup (_data_->details, _data_->_tmp53_);
#line 343 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp54_;
#line 345 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp56_ = _data_->p_name;
#line 345 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp56_ != NULL) {
#line 345 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp57_ = _data_->v;
#line 345 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp55_ = _data_->_tmp57_ != NULL;
#line 1296 "dummy-persona-store.c"
		} else {
#line 345 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp55_ = FALSE;
#line 1300 "dummy-persona-store.c"
		}
#line 345 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp55_) {
#line 347 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp59_ = _data_->v;
#line 347 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp60_ = (GValue) (*_data_->_tmp59_);
#line 347 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp61_ = g_value_get_string (&_data_->_tmp60_);
#line 347 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp58_ = _data_->_tmp61_;
#line 347 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp58_ == NULL) {
#line 347 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp58_ = "";
#line 1316 "dummy-persona-store.c"
			}
#line 347 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp62_ = g_strdup (_data_->_tmp58_);
#line 347 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->nickname = _data_->_tmp62_;
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp63_ = _data_->p_name;
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp64_ = _data_->nickname;
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_state_ = 3;
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_name_details_change_nickname (_data_->_tmp63_, _data_->_tmp64_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 1332 "dummy-persona-store.c"
			_state_3:
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_name_details_change_nickname_finish (_data_->_tmp63_, _data_->_res_, &_data_->_inner_error_);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->nickname);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_name);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1344 "dummy-persona-store.c"
					goto __catch2_folks_property_error;
				}
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->nickname);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_name);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->persona);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->iid);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->uid);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->contact_id);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_clear_error (&_data_->_inner_error_);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_object_unref (_data_->_async_result);
#line 348 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1367 "dummy-persona-store.c"
			}
#line 345 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_free0 (_data_->nickname);
#line 1371 "dummy-persona-store.c"
		}
#line 351 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp65_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_EMAIL_ADDRESSES);
#line 351 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp66_ = g_hash_table_lookup (_data_->details, _data_->_tmp65_);
#line 351 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp66_;
#line 353 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp67_ = _data_->persona;
#line 353 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp68_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp67_, FOLKS_TYPE_EMAIL_DETAILS) ? ((FolksEmailDetails*) _data_->_tmp67_) : NULL);
#line 353 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_email = _data_->_tmp68_;
#line 354 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp70_ = _data_->p_email;
#line 354 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp70_ != NULL) {
#line 354 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp71_ = _data_->v;
#line 354 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp69_ = _data_->_tmp71_ != NULL;
#line 1393 "dummy-persona-store.c"
		} else {
#line 354 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp69_ = FALSE;
#line 1397 "dummy-persona-store.c"
		}
#line 354 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp69_) {
#line 356 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp72_ = _data_->v;
#line 356 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp73_ = (GValue) (*_data_->_tmp72_);
#line 356 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp74_ = g_value_get_object (&_data_->_tmp73_);
#line 356 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp75_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp74_, GEE_TYPE_SET, GeeSet));
#line 356 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->email_addresses = _data_->_tmp75_;
#line 357 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp76_ = _data_->email_addresses;
#line 357 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp76_ != NULL) {
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp77_ = _data_->p_email;
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp78_ = _data_->email_addresses;
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 4;
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_email_details_change_email_addresses (_data_->_tmp77_, _data_->_tmp78_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1425 "dummy-persona-store.c"
				_state_4:
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_email_details_change_email_addresses_finish (_data_->_tmp77_, _data_->_res_, &_data_->_inner_error_);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->email_addresses);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1439 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->email_addresses);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 358 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 1464 "dummy-persona-store.c"
				}
			}
#line 354 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->email_addresses);
#line 1469 "dummy-persona-store.c"
		}
#line 361 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp79_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_AVATAR);
#line 361 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp80_ = g_hash_table_lookup (_data_->details, _data_->_tmp79_);
#line 361 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp80_;
#line 363 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp81_ = _data_->persona;
#line 363 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp82_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp81_, FOLKS_TYPE_AVATAR_DETAILS) ? ((FolksAvatarDetails*) _data_->_tmp81_) : NULL);
#line 363 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_avatar = _data_->_tmp82_;
#line 364 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp84_ = _data_->p_avatar;
#line 364 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp84_ != NULL) {
#line 364 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp85_ = _data_->v;
#line 364 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp83_ = _data_->_tmp85_ != NULL;
#line 1491 "dummy-persona-store.c"
		} else {
#line 364 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp83_ = FALSE;
#line 1495 "dummy-persona-store.c"
		}
#line 364 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp83_) {
#line 366 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp86_ = _data_->v;
#line 366 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp87_ = (GValue) (*_data_->_tmp86_);
#line 366 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp88_ = g_value_get_object (&_data_->_tmp87_);
#line 366 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp89_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp88_, g_loadable_icon_get_type (), GLoadableIcon));
#line 366 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->avatar = _data_->_tmp89_;
#line 367 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp90_ = _data_->avatar;
#line 367 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp90_ != NULL) {
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp91_ = _data_->p_avatar;
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp92_ = _data_->avatar;
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 5;
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_avatar_details_change_avatar (_data_->_tmp91_, _data_->_tmp92_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1523 "dummy-persona-store.c"
				_state_5:
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_avatar_details_change_avatar_finish (_data_->_tmp91_, _data_->_res_, &_data_->_inner_error_);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->avatar);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1539 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->avatar);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 368 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 1566 "dummy-persona-store.c"
				}
			}
#line 364 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->avatar);
#line 1571 "dummy-persona-store.c"
		}
#line 371 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp93_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_IM_ADDRESSES);
#line 371 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp94_ = g_hash_table_lookup (_data_->details, _data_->_tmp93_);
#line 371 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp94_;
#line 373 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp95_ = _data_->persona;
#line 373 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp96_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp95_, FOLKS_TYPE_IM_DETAILS) ? ((FolksImDetails*) _data_->_tmp95_) : NULL);
#line 373 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_im = _data_->_tmp96_;
#line 374 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp98_ = _data_->p_im;
#line 374 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp98_ != NULL) {
#line 374 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp99_ = _data_->v;
#line 374 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp97_ = _data_->_tmp99_ != NULL;
#line 1593 "dummy-persona-store.c"
		} else {
#line 374 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp97_ = FALSE;
#line 1597 "dummy-persona-store.c"
		}
#line 374 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp97_) {
#line 376 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp100_ = _data_->v;
#line 376 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp101_ = (GValue) (*_data_->_tmp100_);
#line 376 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp102_ = g_value_get_object (&_data_->_tmp101_);
#line 376 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp103_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp102_, GEE_TYPE_MULTI_MAP, GeeMultiMap));
#line 376 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->im_addresses = _data_->_tmp103_;
#line 378 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp104_ = _data_->im_addresses;
#line 378 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp104_ != NULL) {
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp105_ = _data_->p_im;
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp106_ = _data_->im_addresses;
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 6;
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_im_details_change_im_addresses (_data_->_tmp105_, _data_->_tmp106_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1625 "dummy-persona-store.c"
				_state_6:
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_im_details_change_im_addresses_finish (_data_->_tmp105_, _data_->_res_, &_data_->_inner_error_);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->im_addresses);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1643 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->im_addresses);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 379 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 1672 "dummy-persona-store.c"
				}
			}
#line 374 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->im_addresses);
#line 1677 "dummy-persona-store.c"
		}
#line 382 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp107_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_PHONE_NUMBERS);
#line 382 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp108_ = g_hash_table_lookup (_data_->details, _data_->_tmp107_);
#line 382 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp108_;
#line 384 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp109_ = _data_->persona;
#line 384 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp110_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp109_, FOLKS_TYPE_PHONE_DETAILS) ? ((FolksPhoneDetails*) _data_->_tmp109_) : NULL);
#line 384 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_phone = _data_->_tmp110_;
#line 385 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp112_ = _data_->p_phone;
#line 385 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp112_ != NULL) {
#line 385 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp113_ = _data_->v;
#line 385 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp111_ = _data_->_tmp113_ != NULL;
#line 1699 "dummy-persona-store.c"
		} else {
#line 385 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp111_ = FALSE;
#line 1703 "dummy-persona-store.c"
		}
#line 385 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp111_) {
#line 387 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp114_ = _data_->v;
#line 387 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp115_ = (GValue) (*_data_->_tmp114_);
#line 387 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp116_ = g_value_get_object (&_data_->_tmp115_);
#line 387 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp117_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp116_, GEE_TYPE_SET, GeeSet));
#line 387 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->phone_numbers = _data_->_tmp117_;
#line 388 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp118_ = _data_->phone_numbers;
#line 388 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp118_ != NULL) {
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp119_ = _data_->p_phone;
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp120_ = _data_->phone_numbers;
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 7;
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_phone_details_change_phone_numbers (_data_->_tmp119_, _data_->_tmp120_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1731 "dummy-persona-store.c"
				_state_7:
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_phone_details_change_phone_numbers_finish (_data_->_tmp119_, _data_->_res_, &_data_->_inner_error_);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->phone_numbers);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1751 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->phone_numbers);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 389 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 1782 "dummy-persona-store.c"
				}
			}
#line 385 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->phone_numbers);
#line 1787 "dummy-persona-store.c"
		}
#line 392 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp121_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_POSTAL_ADDRESSES);
#line 392 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp122_ = g_hash_table_lookup (_data_->details, _data_->_tmp121_);
#line 392 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp122_;
#line 394 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp123_ = _data_->persona;
#line 394 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp124_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp123_, FOLKS_TYPE_POSTAL_ADDRESS_DETAILS) ? ((FolksPostalAddressDetails*) _data_->_tmp123_) : NULL);
#line 394 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_postal = _data_->_tmp124_;
#line 395 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp126_ = _data_->p_postal;
#line 395 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp126_ != NULL) {
#line 395 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp127_ = _data_->v;
#line 395 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp125_ = _data_->_tmp127_ != NULL;
#line 1809 "dummy-persona-store.c"
		} else {
#line 395 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp125_ = FALSE;
#line 1813 "dummy-persona-store.c"
		}
#line 395 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp125_) {
#line 397 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp128_ = _data_->v;
#line 397 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp129_ = (GValue) (*_data_->_tmp128_);
#line 397 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp130_ = g_value_get_object (&_data_->_tmp129_);
#line 397 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp131_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp130_, GEE_TYPE_SET, GeeSet));
#line 397 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->postal_fds = _data_->_tmp131_;
#line 399 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp132_ = _data_->postal_fds;
#line 399 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp132_ != NULL) {
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp133_ = _data_->p_postal;
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp134_ = _data_->postal_fds;
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 8;
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_postal_address_details_change_postal_addresses (_data_->_tmp133_, _data_->_tmp134_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1841 "dummy-persona-store.c"
				_state_8:
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_postal_address_details_change_postal_addresses_finish (_data_->_tmp133_, _data_->_res_, &_data_->_inner_error_);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->postal_fds);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1863 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->postal_fds);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 400 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 1896 "dummy-persona-store.c"
				}
			}
#line 395 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->postal_fds);
#line 1901 "dummy-persona-store.c"
		}
#line 403 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp135_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_LOCAL_IDS);
#line 403 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp136_ = g_hash_table_lookup (_data_->details, _data_->_tmp135_);
#line 403 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp136_;
#line 405 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp137_ = _data_->persona;
#line 405 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp138_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp137_, FOLKS_TYPE_LOCAL_ID_DETAILS) ? ((FolksLocalIdDetails*) _data_->_tmp137_) : NULL);
#line 405 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_local = _data_->_tmp138_;
#line 406 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp140_ = _data_->p_local;
#line 406 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp140_ != NULL) {
#line 406 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp141_ = _data_->v;
#line 406 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp139_ = _data_->_tmp141_ != NULL;
#line 1923 "dummy-persona-store.c"
		} else {
#line 406 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp139_ = FALSE;
#line 1927 "dummy-persona-store.c"
		}
#line 406 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp139_) {
#line 408 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp142_ = _data_->v;
#line 408 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp143_ = (GValue) (*_data_->_tmp142_);
#line 408 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp144_ = g_value_get_object (&_data_->_tmp143_);
#line 408 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp145_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp144_, GEE_TYPE_SET, GeeSet));
#line 408 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->local_ids = _data_->_tmp145_;
#line 409 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp146_ = _data_->local_ids;
#line 409 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp146_ != NULL) {
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp147_ = _data_->p_local;
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp148_ = _data_->local_ids;
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 9;
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_local_id_details_change_local_ids (_data_->_tmp147_, _data_->_tmp148_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 1955 "dummy-persona-store.c"
				_state_9:
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_local_id_details_change_local_ids_finish (_data_->_tmp147_, _data_->_res_, &_data_->_inner_error_);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->local_ids);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 1979 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->local_ids);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 410 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 2014 "dummy-persona-store.c"
				}
			}
#line 406 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->local_ids);
#line 2019 "dummy-persona-store.c"
		}
#line 413 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp149_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_WEB_SERVICE_ADDRESSES);
#line 413 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp150_ = g_hash_table_lookup (_data_->details, _data_->_tmp149_);
#line 413 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp150_;
#line 416 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp151_ = _data_->persona;
#line 416 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp152_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp151_, FOLKS_TYPE_WEB_SERVICE_DETAILS) ? ((FolksWebServiceDetails*) _data_->_tmp151_) : NULL);
#line 416 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_web = _data_->_tmp152_;
#line 417 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp154_ = _data_->p_web;
#line 417 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp154_ != NULL) {
#line 417 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp155_ = _data_->v;
#line 417 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp153_ = _data_->_tmp155_ != NULL;
#line 2041 "dummy-persona-store.c"
		} else {
#line 417 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp153_ = FALSE;
#line 2045 "dummy-persona-store.c"
		}
#line 417 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp153_) {
#line 419 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp156_ = _data_->v;
#line 419 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp157_ = (GValue) (*_data_->_tmp156_);
#line 419 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp158_ = g_value_get_object (&_data_->_tmp157_);
#line 419 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp159_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp158_, GEE_TYPE_HASH_MULTI_MAP, GeeHashMultiMap));
#line 419 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->addrs = _data_->_tmp159_;
#line 422 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp160_ = _data_->addrs;
#line 422 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp160_ != NULL) {
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp161_ = _data_->p_web;
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp162_ = _data_->addrs;
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 10;
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_web_service_details_change_web_service_addresses (_data_->_tmp161_, (GeeMultiMap*) _data_->_tmp162_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 2073 "dummy-persona-store.c"
				_state_10:
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_web_service_details_change_web_service_addresses_finish (_data_->_tmp161_, _data_->_res_, &_data_->_inner_error_);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->addrs);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 2099 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->addrs);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 423 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 2136 "dummy-persona-store.c"
				}
			}
#line 417 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->addrs);
#line 2141 "dummy-persona-store.c"
		}
#line 426 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp163_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_NOTES);
#line 426 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp164_ = g_hash_table_lookup (_data_->details, _data_->_tmp163_);
#line 426 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp164_;
#line 428 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp165_ = _data_->persona;
#line 428 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp166_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp165_, FOLKS_TYPE_NOTE_DETAILS) ? ((FolksNoteDetails*) _data_->_tmp165_) : NULL);
#line 428 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_note = _data_->_tmp166_;
#line 429 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp168_ = _data_->p_note;
#line 429 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp168_ != NULL) {
#line 429 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp169_ = _data_->v;
#line 429 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp167_ = _data_->_tmp169_ != NULL;
#line 2163 "dummy-persona-store.c"
		} else {
#line 429 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp167_ = FALSE;
#line 2167 "dummy-persona-store.c"
		}
#line 429 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp167_) {
#line 431 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp170_ = _data_->v;
#line 431 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp171_ = (GValue) (*_data_->_tmp170_);
#line 431 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp172_ = g_value_get_object (&_data_->_tmp171_);
#line 431 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp173_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp172_, GEE_TYPE_HASH_SET, GeeHashSet));
#line 431 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->notes = _data_->_tmp173_;
#line 432 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp174_ = _data_->notes;
#line 432 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp174_ != NULL) {
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp175_ = _data_->p_note;
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp176_ = _data_->notes;
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 11;
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_note_details_change_notes (_data_->_tmp175_, (GeeSet*) _data_->_tmp176_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 2195 "dummy-persona-store.c"
				_state_11:
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_note_details_change_notes_finish (_data_->_tmp175_, _data_->_res_, &_data_->_inner_error_);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->notes);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_note);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 2223 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->notes);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_note);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 433 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 2262 "dummy-persona-store.c"
				}
			}
#line 429 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->notes);
#line 2267 "dummy-persona-store.c"
		}
#line 436 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp177_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_GENDER);
#line 436 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp178_ = g_hash_table_lookup (_data_->details, _data_->_tmp177_);
#line 436 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp178_;
#line 438 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp179_ = _data_->persona;
#line 438 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp180_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp179_, FOLKS_TYPE_GENDER_DETAILS) ? ((FolksGenderDetails*) _data_->_tmp179_) : NULL);
#line 438 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_gender = _data_->_tmp180_;
#line 439 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp182_ = _data_->p_gender;
#line 439 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp182_ != NULL) {
#line 439 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp183_ = _data_->v;
#line 439 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp181_ = _data_->_tmp183_ != NULL;
#line 2289 "dummy-persona-store.c"
		} else {
#line 439 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp181_ = FALSE;
#line 2293 "dummy-persona-store.c"
		}
#line 439 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp181_) {
#line 441 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp184_ = _data_->v;
#line 441 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp185_ = (GValue) (*_data_->_tmp184_);
#line 441 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->gender = (FolksGender) g_value_get_enum (&_data_->_tmp185_);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp186_ = _data_->p_gender;
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp187_ = _data_->gender;
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_state_ = 12;
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_gender_details_change_gender (_data_->_tmp186_, _data_->_tmp187_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 2313 "dummy-persona-store.c"
			_state_12:
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_gender_details_change_gender_finish (_data_->_tmp186_, _data_->_res_, &_data_->_inner_error_);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_gender);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_note);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_web);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_local);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_postal);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_phone);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_im);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_avatar);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_email);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_name);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 2341 "dummy-persona-store.c"
					goto __catch2_folks_property_error;
				}
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_gender);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_note);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_web);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_local);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_postal);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_phone);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_im);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_avatar);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_email);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_name);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->persona);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->iid);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->uid);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->contact_id);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_clear_error (&_data_->_inner_error_);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_object_unref (_data_->_async_result);
#line 442 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 2380 "dummy-persona-store.c"
			}
		}
#line 445 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp188_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_URLS);
#line 445 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp189_ = g_hash_table_lookup (_data_->details, _data_->_tmp188_);
#line 445 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp189_;
#line 447 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp190_ = _data_->persona;
#line 447 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp191_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp190_, FOLKS_TYPE_URL_DETAILS) ? ((FolksUrlDetails*) _data_->_tmp190_) : NULL);
#line 447 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_url = _data_->_tmp191_;
#line 448 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp193_ = _data_->p_url;
#line 448 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp193_ != NULL) {
#line 448 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp194_ = _data_->v;
#line 448 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp192_ = _data_->_tmp194_ != NULL;
#line 2403 "dummy-persona-store.c"
		} else {
#line 448 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp192_ = FALSE;
#line 2407 "dummy-persona-store.c"
		}
#line 448 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp192_) {
#line 450 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp195_ = _data_->v;
#line 450 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp196_ = (GValue) (*_data_->_tmp195_);
#line 450 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp197_ = g_value_get_object (&_data_->_tmp196_);
#line 450 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp198_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp197_, GEE_TYPE_SET, GeeSet));
#line 450 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->urls = _data_->_tmp198_;
#line 451 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp199_ = _data_->urls;
#line 451 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp199_ != NULL) {
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp200_ = _data_->p_url;
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp201_ = _data_->urls;
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 13;
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_url_details_change_urls (_data_->_tmp200_, _data_->_tmp201_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 2435 "dummy-persona-store.c"
				_state_13:
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_url_details_change_urls_finish (_data_->_tmp200_, _data_->_res_, &_data_->_inner_error_);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->urls);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_url);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_gender);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_note);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 2467 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->urls);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_url);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_gender);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_note);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 452 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 2510 "dummy-persona-store.c"
				}
			}
#line 448 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->urls);
#line 2515 "dummy-persona-store.c"
		}
#line 455 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp202_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_BIRTHDAY);
#line 455 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp203_ = g_hash_table_lookup (_data_->details, _data_->_tmp202_);
#line 455 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp203_;
#line 457 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp204_ = _data_->persona;
#line 457 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp205_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp204_, FOLKS_TYPE_BIRTHDAY_DETAILS) ? ((FolksBirthdayDetails*) _data_->_tmp204_) : NULL);
#line 457 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_birthday = _data_->_tmp205_;
#line 458 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp207_ = _data_->p_birthday;
#line 458 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp207_ != NULL) {
#line 458 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp208_ = _data_->v;
#line 458 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp206_ = _data_->_tmp208_ != NULL;
#line 2537 "dummy-persona-store.c"
		} else {
#line 458 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp206_ = FALSE;
#line 2541 "dummy-persona-store.c"
		}
#line 458 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp206_) {
#line 460 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp209_ = _data_->v;
#line 460 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp210_ = (GValue) (*_data_->_tmp209_);
#line 460 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp211_ = g_value_get_boxed (&_data_->_tmp210_);
#line 460 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp212_ = _g_date_time_ref0 ((GDateTime*) _data_->_tmp211_);
#line 460 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->birthday = _data_->_tmp212_;
#line 461 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp213_ = _data_->birthday;
#line 461 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp213_ != NULL) {
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp214_ = _data_->p_birthday;
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp215_ = _data_->birthday;
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 14;
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_birthday_details_change_birthday (_data_->_tmp214_, _data_->_tmp215_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 2569 "dummy-persona-store.c"
				_state_14:
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_birthday_details_change_birthday_finish (_data_->_tmp214_, _data_->_res_, &_data_->_inner_error_);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_date_time_unref0 (_data_->birthday);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_birthday);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_url);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_gender);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_note);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 2603 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_date_time_unref0 (_data_->birthday);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_birthday);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_url);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_gender);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_note);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 462 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 2648 "dummy-persona-store.c"
				}
			}
#line 458 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_date_time_unref0 (_data_->birthday);
#line 2653 "dummy-persona-store.c"
		}
#line 465 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp216_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_ROLES);
#line 465 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp217_ = g_hash_table_lookup (_data_->details, _data_->_tmp216_);
#line 465 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp217_;
#line 467 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp218_ = _data_->persona;
#line 467 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp219_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp218_, FOLKS_TYPE_ROLE_DETAILS) ? ((FolksRoleDetails*) _data_->_tmp218_) : NULL);
#line 467 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_role = _data_->_tmp219_;
#line 468 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp221_ = _data_->p_role;
#line 468 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp221_ != NULL) {
#line 468 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp222_ = _data_->v;
#line 468 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp220_ = _data_->_tmp222_ != NULL;
#line 2675 "dummy-persona-store.c"
		} else {
#line 468 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp220_ = FALSE;
#line 2679 "dummy-persona-store.c"
		}
#line 468 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp220_) {
#line 470 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp223_ = _data_->v;
#line 470 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp224_ = (GValue) (*_data_->_tmp223_);
#line 470 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp225_ = g_value_get_object (&_data_->_tmp224_);
#line 470 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp226_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp225_, GEE_TYPE_SET, GeeSet));
#line 470 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->roles = _data_->_tmp226_;
#line 471 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp227_ = _data_->roles;
#line 471 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_tmp227_ != NULL) {
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp228_ = _data_->p_role;
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_tmp229_ = _data_->roles;
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_data_->_state_ = 15;
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_role_details_change_roles (_data_->_tmp228_, _data_->_tmp229_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 2707 "dummy-persona-store.c"
				_state_15:
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				folks_role_details_change_roles_finish (_data_->_tmp228_, _data_->_res_, &_data_->_inner_error_);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->roles);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_role);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_birthday);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_url);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_gender);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_note);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 2743 "dummy-persona-store.c"
						goto __catch2_folks_property_error;
					}
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->roles);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_role);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_birthday);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_url);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_gender);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_note);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_web);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_local);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_postal);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_phone);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_im);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_avatar);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_email);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->p_name);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_object_unref0 (_data_->persona);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->iid);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->uid);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					_g_free0 (_data_->contact_id);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_clear_error (&_data_->_inner_error_);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					g_object_unref (_data_->_async_result);
#line 472 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					return FALSE;
#line 2790 "dummy-persona-store.c"
				}
			}
#line 468 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->roles);
#line 2795 "dummy-persona-store.c"
		}
#line 475 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp230_ = folks_persona_store_detail_key (FOLKS_PERSONA_DETAIL_IS_FAVOURITE);
#line 475 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp231_ = g_hash_table_lookup (_data_->details, _data_->_tmp230_);
#line 475 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->v = (GValue*) _data_->_tmp231_;
#line 477 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp232_ = _data_->persona;
#line 477 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp233_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp232_, FOLKS_TYPE_FAVOURITE_DETAILS) ? ((FolksFavouriteDetails*) _data_->_tmp232_) : NULL);
#line 477 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->p_favourite = _data_->_tmp233_;
#line 478 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp235_ = _data_->p_favourite;
#line 478 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp235_ != NULL) {
#line 478 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp236_ = _data_->v;
#line 478 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp234_ = _data_->_tmp236_ != NULL;
#line 2817 "dummy-persona-store.c"
		} else {
#line 478 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp234_ = FALSE;
#line 2821 "dummy-persona-store.c"
		}
#line 478 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp234_) {
#line 480 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp237_ = _data_->v;
#line 480 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp238_ = (GValue) (*_data_->_tmp237_);
#line 480 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->is_fav = g_value_get_boolean (&_data_->_tmp238_);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp239_ = _data_->p_favourite;
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp240_ = _data_->is_fav;
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_state_ = 16;
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_favourite_details_change_is_favourite (_data_->_tmp239_, _data_->_tmp240_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 2841 "dummy-persona-store.c"
			_state_16:
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_favourite_details_change_is_favourite_finish (_data_->_tmp239_, _data_->_res_, &_data_->_inner_error_);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_favourite);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_role);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_birthday);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_url);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_gender);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_note);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_web);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_local);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_postal);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_phone);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_im);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_avatar);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_email);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_name);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (_data_->_inner_error_->domain == FOLKS_PROPERTY_ERROR) {
#line 2877 "dummy-persona-store.c"
					goto __catch2_folks_property_error;
				}
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_favourite);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_role);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_birthday);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_url);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_gender);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_note);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_web);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_local);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_postal);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_phone);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_im);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_avatar);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_email);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->p_name);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->persona);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->iid);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->uid);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->contact_id);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_clear_error (&_data_->_inner_error_);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_object_unref (_data_->_async_result);
#line 481 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 2924 "dummy-persona-store.c"
			}
		}
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_favourite);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_role);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_birthday);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_url);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_gender);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_note);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_web);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_local);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_postal);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_phone);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_im);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_avatar);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_email);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->p_name);
#line 2955 "dummy-persona-store.c"
	}
	goto __finally2;
	__catch2_folks_property_error:
	{
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->e1 = _data_->_inner_error_;
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_inner_error_ = NULL;
#line 486 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp241_ = _data_->e1;
#line 486 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp242_ = _data_->_tmp241_->message;
#line 486 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp243_ = g_error_new (FOLKS_PERSONA_STORE_ERROR, FOLKS_PERSONA_STORE_ERROR_CREATE_FAILED, "Setting a property on the new persona failed: %s", _data_->_tmp242_);
#line 486 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_inner_error_ = _data_->_tmp243_;
#line 486 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_error_free0 (_data_->e1);
#line 2974 "dummy-persona-store.c"
		goto __finally2;
	}
	__finally2:
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_inner_error_->domain == FOLKS_PERSONA_STORE_ERROR) {
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->persona);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_free0 (_data_->iid);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_free0 (_data_->uid);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_free0 (_data_->contact_id);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_object_unref (_data_->_async_result);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 2996 "dummy-persona-store.c"
		} else {
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_data_->persona);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_free0 (_data_->iid);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_free0 (_data_->uid);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_free0 (_data_->contact_id);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_clear_error (&_data_->_inner_error_);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_object_unref (_data_->_async_result);
#line 323 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 3014 "dummy-persona-store.c"
		}
	}
#line 492 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp244_ = _data_->self->priv->_add_persona_from_details_mock;
#line 492 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp244__target = _data_->self->priv->_add_persona_from_details_mock_target;
#line 492 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_tmp244_ != NULL) {
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp245_ = _data_->self->priv->_add_persona_from_details_mock;
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp245__target = _data_->self->priv->_add_persona_from_details_mock_target;
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp246_ = _data_->persona;
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->delay = _data_->_tmp245_ (_data_->_tmp246_, _data_->_tmp245__target, &_data_->_inner_error_);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_inner_error_->domain == FOLKS_PERSONA_STORE_ERROR) {
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->persona);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->iid);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->uid);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->contact_id);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_object_unref (_data_->_async_result);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 3049 "dummy-persona-store.c"
			} else {
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_data_->persona);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->iid);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->uid);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_free0 (_data_->contact_id);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_clear_error (&_data_->_inner_error_);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_object_unref (_data_->_async_result);
#line 494 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 3067 "dummy-persona-store.c"
			}
		}
#line 495 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp247_ = _data_->delay;
#line 495 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_state_ = 17;
#line 495 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_folks_dummy_persona_store_implement_mock_delay (_data_->self, _data_->_tmp247_, folks_dummy_persona_store_add_persona_from_details_ready, _data_);
#line 495 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return FALSE;
#line 3078 "dummy-persona-store.c"
		_state_17:
#line 495 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_folks_dummy_persona_store_implement_mock_delay_finish (_data_->self, _data_->_res_);
#line 3082 "dummy-persona-store.c"
	}
#line 499 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp248_ = _data_->self->priv->_personas;
#line 499 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp249_ = _data_->persona;
#line 499 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp250_ = folks_persona_get_iid ((FolksPersona*) _data_->_tmp249_);
#line 499 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp251_ = _data_->_tmp250_;
#line 499 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp252_ = _data_->persona;
#line 499 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	gee_abstract_map_set ((GeeAbstractMap*) _data_->_tmp248_, _data_->_tmp251_, _data_->_tmp252_);
#line 502 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp253_ = gee_hash_set_new (FOLKS_DUMMY_TYPE_PERSONA, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 502 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->added_personas = _data_->_tmp253_;
#line 503 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp254_ = _data_->added_personas;
#line 503 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp255_ = _data_->persona;
#line 503 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	gee_abstract_collection_add ((GeeAbstractCollection*) _data_->_tmp254_, _data_->_tmp255_);
#line 504 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp256_ = _data_->added_personas;
#line 504 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_folks_persona_store_emit_personas_changed ((FolksPersonaStore*) _data_->self, (GeeSet*) _data_->_tmp256_, NULL, NULL, NULL, FOLKS_GROUP_DETAILS_CHANGE_REASON_NONE);
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->result = (FolksPersona*) _data_->persona;
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->added_personas);
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_free0 (_data_->iid);
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_free0 (_data_->uid);
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_free0 (_data_->contact_id);
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_state_ != 0) {
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3128 "dummy-persona-store.c"
		}
	}
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_unref (_data_->_async_result);
#line 506 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return FALSE;
#line 3135 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_remove_persona_data_free (gpointer _data)
{
	FolksDummyPersonaStoreRemovePersonaData* _data_;
	_data_ = _data;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->persona);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->self);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_slice_free (FolksDummyPersonaStoreRemovePersonaData, _data_);
#line 3150 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_remove_persona_async_ready_wrapper (GObject *source_object,
                                                                   GAsyncResult *res,
                                                                   void *user_data)
{
	FolksDummyPersonaStoreRemovePersonaData* _task_data_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 3166 "dummy-persona-store.c"
	}
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 3170 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_remove_persona (FolksPersonaStore* base,
                                               FolksPersona* persona,
                                               GAsyncReadyCallback _callback_,
                                               gpointer _user_data_)
{
	FolksDummyPersonaStore * self;
	FolksDummyPersonaStoreRemovePersonaData* _data_;
	FolksDummyPersonaStore* _tmp0_;
	FolksPersona* _tmp1_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = g_slice_new0 (FolksDummyPersonaStoreRemovePersonaData);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_callback_ = _callback_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, folks_dummy_persona_store_real_remove_persona_async_ready_wrapper, _user_data_);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_callback_ == NULL) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_task_complete_ = TRUE;
#line 3196 "dummy-persona-store.c"
	}
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, folks_dummy_persona_store_real_remove_persona_data_free);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->self = _tmp0_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = _g_object_ref0 (persona);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->persona);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->persona = _tmp1_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store_real_remove_persona_co (_data_);
#line 3212 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_remove_persona_finish (FolksPersonaStore* base,
                                                      GAsyncResult* _res_,
                                                      GError** error)
{
	FolksDummyPersonaStoreRemovePersonaData* _data_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (NULL == _data_) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return;
#line 3228 "dummy-persona-store.c"
	}
}


/**
   * Remove a {@link Persona} from the PersonaStore.
   *
   * See {@link Folks.PersonaStore.remove_persona}.
   *
   * @param persona the persona that should be removed
   * @throws Folks.PersonaStoreError.STORE_OFFLINE if the store hasn’t been
   * prepared or has gone offline
   * @throws Folks.PersonaStoreError.PERMISSION_DENIED if the store denied
   * permission to delete the contact
   * @throws Folks.PersonaStoreError.READ_ONLY if the store is read only
   * @throws Folks.PersonaStoreError.REMOVE_FAILED if any other errors happened
   * in the store
   *
   * @since 0.9.7
   */
static void
folks_dummy_persona_store_remove_persona_ready (GObject* source_object,
                                                GAsyncResult* _res_,
                                                gpointer _user_data_)
{
	FolksDummyPersonaStoreRemovePersonaData* _data_;
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = _user_data_;
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_source_object_ = source_object;
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_res_ = _res_;
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_task_complete_ = TRUE;
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store_real_remove_persona_co (_data_);
#line 3265 "dummy-persona-store.c"
}


static gboolean
folks_dummy_persona_store_real_remove_persona_co (FolksDummyPersonaStoreRemovePersonaData* _data_)
{
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	switch (_data_->_state_) {
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 0:
#line 3276 "dummy-persona-store.c"
		goto _state_0;
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 1:
#line 3280 "dummy-persona-store.c"
		goto _state_1;
		default:
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_assert_not_reached ();
#line 3285 "dummy-persona-store.c"
	}
	_state_0:
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_vala_return_val_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (_data_->persona, FOLKS_DUMMY_TYPE_PERSONA), "persona is FolksDummy.Persona", FALSE);
#line 530 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp0_ = _data_->self->priv->_is_prepared;
#line 530 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (!_data_->_tmp0_) {
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp1_ = g_error_new_literal (FOLKS_PERSONA_STORE_ERROR, FOLKS_PERSONA_STORE_ERROR_STORE_OFFLINE, "Persona store has not yet been prepared.");
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_inner_error_ = _data_->_tmp1_;
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_inner_error_->domain == FOLKS_PERSONA_STORE_ERROR) {
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_object_unref (_data_->_async_result);
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 3306 "dummy-persona-store.c"
		} else {
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_clear_error (&_data_->_inner_error_);
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_object_unref (_data_->_async_result);
#line 532 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 3316 "dummy-persona-store.c"
		}
	}
#line 537 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp2_ = _data_->self->priv->_remove_persona_mock;
#line 537 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp2__target = _data_->self->priv->_remove_persona_mock_target;
#line 537 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_tmp2_ != NULL) {
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp3_ = _data_->self->priv->_remove_persona_mock;
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp3__target = _data_->self->priv->_remove_persona_mock_target;
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->delay = _data_->_tmp3_ (G_TYPE_CHECK_INSTANCE_CAST (_data_->persona, FOLKS_DUMMY_TYPE_PERSONA, FolksDummyPersona), _data_->_tmp3__target, &_data_->_inner_error_);
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_data_->_inner_error_->domain == FOLKS_PERSONA_STORE_ERROR) {
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_object_unref (_data_->_async_result);
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 3341 "dummy-persona-store.c"
			} else {
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_clear_error (&_data_->_inner_error_);
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_object_unref (_data_->_async_result);
#line 539 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				return FALSE;
#line 3351 "dummy-persona-store.c"
			}
		}
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp4_ = _data_->delay;
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_state_ = 1;
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_folks_dummy_persona_store_implement_mock_delay (_data_->self, _data_->_tmp4_, folks_dummy_persona_store_remove_persona_ready, _data_);
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return FALSE;
#line 3362 "dummy-persona-store.c"
		_state_1:
#line 540 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_folks_dummy_persona_store_implement_mock_delay_finish (_data_->self, _data_->_res_);
#line 3366 "dummy-persona-store.c"
	}
#line 543 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp5_ = _data_->self->priv->_personas;
#line 543 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp6_ = folks_persona_get_iid (_data_->persona);
#line 543 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp7_ = _data_->_tmp6_;
#line 543 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp8_ = gee_abstract_map_get ((GeeAbstractMap*) _data_->_tmp5_, _data_->_tmp7_);
#line 543 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_persona = (FolksDummyPersona*) _data_->_tmp8_;
#line 544 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp9_ = _data_->_persona;
#line 544 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_tmp9_ != NULL) {
#line 546 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp10_ = _data_->self->priv->_personas;
#line 546 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp11_ = folks_persona_get_iid (_data_->persona);
#line 546 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp12_ = _data_->_tmp11_;
#line 546 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		gee_abstract_map_unset ((GeeAbstractMap*) _data_->_tmp10_, _data_->_tmp12_, NULL);
#line 550 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp13_ = _data_->self->priv->_pending_persona_registrations;
#line 550 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp14_ = _data_->_persona;
#line 550 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		gee_abstract_collection_remove ((GeeAbstractCollection*) _data_->_tmp13_, G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp14_, FOLKS_DUMMY_TYPE_PERSONA, FolksDummyPersona));
#line 551 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp15_ = _data_->self->priv->_pending_persona_unregistrations;
#line 551 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp16_ = _data_->_persona;
#line 551 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		gee_abstract_collection_remove ((GeeAbstractCollection*) _data_->_tmp15_, G_TYPE_CHECK_INSTANCE_CAST (_data_->_tmp16_, FOLKS_DUMMY_TYPE_PERSONA, FolksDummyPersona));
#line 554 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp17_ = gee_hash_set_new (FOLKS_TYPE_PERSONA, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 554 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->removed_personas = _data_->_tmp17_;
#line 555 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp18_ = _data_->removed_personas;
#line 555 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		gee_abstract_collection_add ((GeeAbstractCollection*) _data_->_tmp18_, G_TYPE_CHECK_INSTANCE_CAST (_data_->persona, FOLKS_TYPE_PERSONA, FolksPersona));
#line 556 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp19_ = _data_->removed_personas;
#line 556 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_folks_persona_store_emit_personas_changed ((FolksPersonaStore*) _data_->self, NULL, (GeeSet*) _data_->_tmp19_, NULL, NULL, FOLKS_GROUP_DETAILS_CHANGE_REASON_NONE);
#line 544 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_data_->removed_personas);
#line 3416 "dummy-persona-store.c"
	}
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->_persona);
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_state_ != 0) {
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3428 "dummy-persona-store.c"
		}
	}
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_unref (_data_->_async_result);
#line 525 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return FALSE;
#line 3435 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_prepare_data_free (gpointer _data)
{
	FolksDummyPersonaStorePrepareData* _data_;
	_data_ = _data;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->self);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_slice_free (FolksDummyPersonaStorePrepareData, _data_);
#line 3448 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_prepare_async_ready_wrapper (GObject *source_object,
                                                            GAsyncResult *res,
                                                            void *user_data)
{
	FolksDummyPersonaStorePrepareData* _task_data_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 3464 "dummy-persona-store.c"
	}
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 3468 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_prepare (FolksPersonaStore* base,
                                        GAsyncReadyCallback _callback_,
                                        gpointer _user_data_)
{
	FolksDummyPersonaStore * self;
	FolksDummyPersonaStorePrepareData* _data_;
	FolksDummyPersonaStore* _tmp0_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = g_slice_new0 (FolksDummyPersonaStorePrepareData);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_callback_ = _callback_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, folks_dummy_persona_store_real_prepare_async_ready_wrapper, _user_data_);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_callback_ == NULL) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_task_complete_ = TRUE;
#line 3492 "dummy-persona-store.c"
	}
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, folks_dummy_persona_store_real_prepare_data_free);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->self = _tmp0_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store_real_prepare_co (_data_);
#line 3502 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_real_prepare_finish (FolksPersonaStore* base,
                                               GAsyncResult* _res_,
                                               GError** error)
{
	FolksDummyPersonaStorePrepareData* _data_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (NULL == _data_) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return;
#line 3518 "dummy-persona-store.c"
	}
}


/**
   * Prepare the PersonaStore for use.
   *
   * See {@link Folks.PersonaStore.prepare}.
   *
   * @throws Folks.PersonaStoreError.STORE_OFFLINE if the store is offline
   * @throws Folks.PersonaStoreError.PERMISSION_DENIED if permission was denied
   * to open the store
   * @throws Folks.PersonaStoreError.INVALID_ARGUMENT if any other error
   * occurred in the store
   *
   * @since 0.9.7
   */
static void
folks_dummy_persona_store_prepare_ready (GObject* source_object,
                                         GAsyncResult* _res_,
                                         gpointer _user_data_)
{
	FolksDummyPersonaStorePrepareData* _data_;
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = _user_data_;
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_source_object_ = source_object;
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_res_ = _res_;
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_task_complete_ = TRUE;
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store_real_prepare_co (_data_);
#line 3552 "dummy-persona-store.c"
}


static gboolean
folks_dummy_persona_store_real_prepare_co (FolksDummyPersonaStorePrepareData* _data_)
{
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	switch (_data_->_state_) {
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 0:
#line 3563 "dummy-persona-store.c"
		goto _state_0;
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 1:
#line 3567 "dummy-persona-store.c"
		goto _state_1;
		default:
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_assert_not_reached ();
#line 3572 "dummy-persona-store.c"
	}
	_state_0:
#line 575 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp0_ = folks_persona_store_get_id ((FolksPersonaStore*) _data_->self);
#line 575 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp1_ = _data_->_tmp0_;
#line 575 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_internal_profiling_start ("preparing Dummy.PersonaStore (ID: %s)", _data_->_tmp1_, NULL);
#line 578 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_tmp3_ = _data_->self->priv->_is_prepared;
#line 578 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_tmp3_ == TRUE) {
#line 578 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp2_ = TRUE;
#line 3587 "dummy-persona-store.c"
	} else {
#line 578 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp4_ = _data_->self->priv->_prepare_pending;
#line 578 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp2_ = _data_->_tmp4_ == TRUE;
#line 3593 "dummy-persona-store.c"
	}
#line 578 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_tmp2_) {
#line 580 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 580 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_state_ != 0) {
#line 580 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			while (_data_->_task_complete_ != TRUE) {
#line 580 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3605 "dummy-persona-store.c"
			}
		}
#line 580 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_object_unref (_data_->_async_result);
#line 580 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return FALSE;
#line 3612 "dummy-persona-store.c"
	}
	{
#line 585 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->self->priv->_prepare_pending = TRUE;
#line 588 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp5_ = _data_->self->priv->_prepare_mock;
#line 588 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp5__target = _data_->self->priv->_prepare_mock_target;
#line 588 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp5_ != NULL) {
#line 590 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp6_ = _data_->self->priv->_prepare_mock;
#line 590 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp6__target = _data_->self->priv->_prepare_mock_target;
#line 590 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->delay = _data_->_tmp6_ (_data_->_tmp6__target, &_data_->_inner_error_);
#line 590 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 3631 "dummy-persona-store.c"
				goto __finally3;
			}
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_tmp7_ = _data_->delay;
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_state_ = 1;
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_folks_dummy_persona_store_implement_mock_delay (_data_->self, _data_->_tmp7_, folks_dummy_persona_store_prepare_ready, _data_);
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 3642 "dummy-persona-store.c"
			_state_1:
#line 591 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_folks_dummy_persona_store_implement_mock_delay_finish (_data_->self, _data_->_res_);
#line 3646 "dummy-persona-store.c"
		}
#line 594 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->self->priv->_is_prepared = TRUE;
#line 595 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_object_notify ((GObject*) _data_->self, "is-prepared");
#line 599 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_tmp8_ = _data_->self->priv->_quiescent_on_prepare;
#line 599 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_tmp8_ == TRUE) {
#line 601 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			folks_dummy_persona_store_reach_quiescence (_data_->self);
#line 3658 "dummy-persona-store.c"
		}
	}
	__finally3:
	{
#line 606 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->self->priv->_prepare_pending = FALSE;
#line 3665 "dummy-persona-store.c"
	}
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_inner_error_->domain == FOLKS_PERSONA_STORE_ERROR) {
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_object_unref (_data_->_async_result);
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 3677 "dummy-persona-store.c"
		} else {
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_clear_error (&_data_->_inner_error_);
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_object_unref (_data_->_async_result);
#line 583 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 3687 "dummy-persona-store.c"
		}
	}
#line 609 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_internal_profiling_end ("preparing Dummy.PersonaStore", NULL);
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_state_ != 0) {
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3700 "dummy-persona-store.c"
		}
	}
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_unref (_data_->_async_result);
#line 573 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return FALSE;
#line 3707 "dummy-persona-store.c"
}


static void
_folks_dummy_persona_store_implement_mock_delay_data_free (gpointer _data)
{
	FolksDummyPersonaStoreImplementMockDelayData* _data_;
	_data_ = _data;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (_data_->self);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_slice_free (FolksDummyPersonaStoreImplementMockDelayData, _data_);
#line 3720 "dummy-persona-store.c"
}


static void
_folks_dummy_persona_store_implement_mock_delay_async_ready_wrapper (GObject *source_object,
                                                                     GAsyncResult *res,
                                                                     void *user_data)
{
	FolksDummyPersonaStoreImplementMockDelayData* _task_data_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_task_data_ = g_task_get_task_data (G_TASK (res));
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_task_data_->_callback_ != NULL) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_task_data_->_callback_ (source_object, res, user_data);
#line 3736 "dummy-persona-store.c"
	}
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_task_data_->_task_complete_ = TRUE;
#line 3740 "dummy-persona-store.c"
}


static void
_folks_dummy_persona_store_implement_mock_delay (FolksDummyPersonaStore* self,
                                                 gint delay,
                                                 GAsyncReadyCallback _callback_,
                                                 gpointer _user_data_)
{
	FolksDummyPersonaStoreImplementMockDelayData* _data_;
	FolksDummyPersonaStore* _tmp0_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = g_slice_new0 (FolksDummyPersonaStoreImplementMockDelayData);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_callback_ = _callback_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _folks_dummy_persona_store_implement_mock_delay_async_ready_wrapper, _user_data_);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_callback_ == NULL) {
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_task_complete_ = TRUE;
#line 3762 "dummy-persona-store.c"
	}
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_task_set_task_data (_data_->_async_result, _data_, _folks_dummy_persona_store_implement_mock_delay_data_free);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->self = _tmp0_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->delay = delay;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_folks_dummy_persona_store_implement_mock_delay_co (_data_);
#line 3774 "dummy-persona-store.c"
}


static void
_folks_dummy_persona_store_implement_mock_delay_finish (FolksDummyPersonaStore* self,
                                                        GAsyncResult* _res_)
{
	FolksDummyPersonaStoreImplementMockDelayData* _data_;
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 3785 "dummy-persona-store.c"
}


/**
   * Delay for the given number of milliseconds.
   *
   * This implements an asynchronous delay (which should be yielded on) until
   * the given number of milliseconds has elapsed.
   *
   * If ``delay`` is negative, this function returns immediately. If it is
   * zero, this function returns in an idle callback.
   *
   * @param delay number of milliseconds to delay for
   *
   * @since 0.9.7
   */
static Block2Data*
block2_data_ref (Block2Data* _data2_)
{
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return _data2_;
#line 3809 "dummy-persona-store.c"
}


static void
block2_data_unref (void * _userdata_)
{
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 3820 "dummy-persona-store.c"
		FolksDummyPersonaStore* self;
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		self = _data2_->self;
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (self);
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_slice_free (Block2Data, _data2_);
#line 3828 "dummy-persona-store.c"
	}
}


static gboolean
____lambda6_ (Block2Data* _data2_)
{
	FolksDummyPersonaStore* self;
	gboolean result = FALSE;
#line 643 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = _data2_->self;
#line 645 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_folks_dummy_persona_store_implement_mock_delay_co (_data2_->_async_data_);
#line 646 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = FALSE;
#line 646 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 3846 "dummy-persona-store.c"
}


static gboolean
_____lambda6__gsource_func (gpointer self)
{
	gboolean result;
	result = ____lambda6_ (self);
#line 643 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 3857 "dummy-persona-store.c"
}


static gboolean
____lambda7_ (Block2Data* _data2_)
{
	FolksDummyPersonaStore* self;
	gboolean result = FALSE;
#line 654 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = _data2_->self;
#line 656 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_folks_dummy_persona_store_implement_mock_delay_co (_data2_->_async_data_);
#line 657 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = FALSE;
#line 657 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 3874 "dummy-persona-store.c"
}


static gboolean
_____lambda7__gsource_func (gpointer self)
{
	gboolean result;
	result = ____lambda7_ (self);
#line 654 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 3885 "dummy-persona-store.c"
}


static gboolean
_folks_dummy_persona_store_implement_mock_delay_co (FolksDummyPersonaStoreImplementMockDelayData* _data_)
{
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	switch (_data_->_state_) {
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 0:
#line 3896 "dummy-persona-store.c"
		goto _state_0;
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 1:
#line 3900 "dummy-persona-store.c"
		goto _state_1;
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case 2:
#line 3904 "dummy-persona-store.c"
		goto _state_2;
		default:
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_assert_not_reached ();
#line 3909 "dummy-persona-store.c"
	}
	_state_0:
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_data2_ = g_slice_new0 (Block2Data);
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_data2_->_ref_count_ = 1;
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_data2_->self = g_object_ref (_data_->self);
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_data2_->_async_data_ = _data_;
#line 635 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->delay < 0) {
#line 638 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		block2_data_unref (_data_->_data2_);
#line 638 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_data_->_data2_ = NULL;
#line 638 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 638 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->_state_ != 0) {
#line 638 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			while (_data_->_task_complete_ != TRUE) {
#line 638 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3934 "dummy-persona-store.c"
			}
		}
#line 638 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_object_unref (_data_->_async_result);
#line 638 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return FALSE;
#line 3941 "dummy-persona-store.c"
	} else {
#line 640 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (_data_->delay == 0) {
#line 643 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_idle_add_full (G_PRIORITY_DEFAULT_IDLE, _____lambda6__gsource_func, block2_data_ref (_data_->_data2_), block2_data_unref);
#line 649 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_state_ = 1;
#line 649 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 3951 "dummy-persona-store.c"
			_state_1:
			;
		} else {
#line 654 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_timeout_add_full (G_PRIORITY_DEFAULT, (guint) _data_->delay, _____lambda7__gsource_func, block2_data_ref (_data_->_data2_), block2_data_unref);
#line 660 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_data_->_state_ = 2;
#line 660 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return FALSE;
#line 3961 "dummy-persona-store.c"
			_state_2:
			;
		}
	}
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	block2_data_unref (_data_->_data2_);
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_data_->_data2_ = NULL;
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_data_->_state_ != 0) {
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3978 "dummy-persona-store.c"
		}
	}
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_unref (_data_->_async_result);
#line 633 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return FALSE;
#line 3985 "dummy-persona-store.c"
}


/**
   * Set capabilities of the persona store.
   *
   * This sets the capabilities of the store, as if they were changed on a
   * backing store somewhere. This is intended to be used for testing code which
   * depends on the values of {@link Folks.PersonaStore.can_add_personas},
   * {@link Folks.PersonaStore.can_alias_personas} and
   * {@link Folks.PersonaStore.can_remove_personas}.
   *
   * @param can_add_personas whether the store can handle adding personas
   * @param can_alias_personas whether the store can handle and update
   * user-specified persona aliases
   * @param can_remove_personas whether the store can handle removing personas
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_update_capabilities (FolksDummyPersonaStore* self,
                                               FolksMaybeBool can_add_personas,
                                               FolksMaybeBool can_alias_personas,
                                               FolksMaybeBool can_remove_personas)
{
	FolksMaybeBool _tmp0_;
	FolksMaybeBool _tmp1_;
	FolksMaybeBool _tmp2_;
#line 775 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 778 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_freeze_notify ((GObject*) self);
#line 780 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_can_add_personas;
#line 780 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (can_add_personas != _tmp0_) {
#line 782 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		self->priv->_can_add_personas = can_add_personas;
#line 783 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_object_notify ((GObject*) self, "can-add-personas");
#line 4026 "dummy-persona-store.c"
	}
#line 786 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = self->priv->_can_alias_personas;
#line 786 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (can_alias_personas != _tmp1_) {
#line 788 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		self->priv->_can_alias_personas = can_alias_personas;
#line 789 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_object_notify ((GObject*) self, "can-alias-personas");
#line 4036 "dummy-persona-store.c"
	}
#line 792 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp2_ = self->priv->_can_remove_personas;
#line 792 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (can_remove_personas != _tmp2_) {
#line 794 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		self->priv->_can_remove_personas = can_remove_personas;
#line 795 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_object_notify ((GObject*) self, "can-remove-personas");
#line 4046 "dummy-persona-store.c"
	}
#line 798 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_thaw_notify ((GObject*) self);
#line 4050 "dummy-persona-store.c"
}


/**
   * Freeze persona changes in the store.
   *
   * This freezes externally-visible changes to the set of personas in the store
   * until {@link FolksDummy.PersonaStore.thaw_personas_changed} is called, at
   * which point all pending changes are made visible in the
   * {@link Folks.PersonaStore.personas} property and by emitting
   * {@link Folks.PersonaStore.personas_changed}.
   *
   * Calls to {@link FolksDummy.PersonaStore.freeze_personas_changed} and
   * {@link FolksDummy.PersonaStore.thaw_personas_changed} must be well-nested.
   * Pending changes will only be committed after the final call to
   * {@link FolksDummy.PersonaStore.thaw_personas_changed}.
   *
   * @see PersonaStore.thaw_personas_changed
   * @since 0.9.7
   */
void
folks_dummy_persona_store_freeze_personas_changed (FolksDummyPersonaStore* self)
{
	guint _tmp0_;
#line 818 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 820 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_personas_changed_frozen;
#line 820 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_personas_changed_frozen = _tmp0_ + 1;
#line 4081 "dummy-persona-store.c"
}


/**
   * Thaw persona changes in the store.
   *
   * This thaws externally-visible changes to the set of personas in the store.
   * If the number of calls to
   * {@link FolksDummy.PersonaStore.thaw_personas_changed} matches the number of
   * calls to {@link FolksDummy.PersonaStore.freeze_personas_changed}, all
   * pending changes are committed and made externally-visible.
   *
   * @see PersonaStore.freeze_personas_changed
   * @since 0.9.7
   */
void
folks_dummy_persona_store_thaw_personas_changed (FolksDummyPersonaStore* self)
{
	guint _tmp0_;
	guint _tmp1_;
	guint _tmp2_;
#line 835 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 837 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_personas_changed_frozen;
#line 837 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_vala_assert (_tmp0_ > ((guint) 0), "this._personas_changed_frozen > 0");
#line 838 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = self->priv->_personas_changed_frozen;
#line 838 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_personas_changed_frozen = _tmp1_ - 1;
#line 840 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp2_ = self->priv->_personas_changed_frozen;
#line 840 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp2_ == ((guint) 0)) {
#line 4117 "dummy-persona-store.c"
		GeeHashSet* _tmp3_;
		GeeHashSet* _tmp4_;
		GeeHashSet* _tmp5_;
		GeeHashSet* _tmp6_;
#line 843 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp3_ = self->priv->_pending_persona_registrations;
#line 843 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp4_ = self->priv->_pending_persona_unregistrations;
#line 843 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_folks_persona_store_emit_personas_changed ((FolksPersonaStore*) self, (GeeSet*) _tmp3_, (GeeSet*) _tmp4_, NULL, NULL, FOLKS_GROUP_DETAILS_CHANGE_REASON_NONE);
#line 846 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp5_ = self->priv->_pending_persona_registrations;
#line 846 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		gee_abstract_collection_clear ((GeeAbstractCollection*) _tmp5_);
#line 847 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp6_ = self->priv->_pending_persona_unregistrations;
#line 847 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		gee_abstract_collection_clear ((GeeAbstractCollection*) _tmp6_);
#line 4136 "dummy-persona-store.c"
	}
}


/**
   * Register new personas with the persona store.
   *
   * This registers a set of personas as if they had just appeared in the
   * backing store. If the persona store is not frozen (see
   * {@link FolksDummy.PersonaStore.freeze_personas_changed}) the changes are
   * made externally visible on the store immediately (e.g. in the
   * {@link Folks.PersonaStore.personas} property and through a
   * {@link Folks.PersonaStore.personas_changed} signal). If the store is
   * frozen, the changes will be pending until the store is next unfrozen.
   *
   * All elements in the @personas set be of type
   * {@link FolksDummy.PersonaStore.persona_type}.
   *
   * @param personas set of personas to register
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_register_personas (FolksDummyPersonaStore* self,
                                             GeeSet* personas)
{
	GeeSet* added_personas = NULL;
	gboolean emit_notifications = FALSE;
	guint _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp29_ = FALSE;
	GeeSet* _tmp30_;
	gint _tmp31_;
	gint _tmp32_;
#line 869 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 869 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (personas != NULL);
#line 872 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_personas_changed_frozen;
#line 872 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	emit_notifications = _tmp0_ == ((guint) 0);
#line 876 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = emit_notifications;
#line 876 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp1_ == FALSE) {
#line 4183 "dummy-persona-store.c"
		GeeHashSet* _tmp2_;
		GeeSet* _tmp3_;
#line 877 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp2_ = self->priv->_pending_persona_registrations;
#line 877 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp3_ = _g_object_ref0 ((GeeSet*) _tmp2_);
#line 877 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (added_personas);
#line 877 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		added_personas = _tmp3_;
#line 4194 "dummy-persona-store.c"
	} else {
		GeeHashSet* _tmp4_;
#line 879 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp4_ = gee_hash_set_new (FOLKS_DUMMY_TYPE_PERSONA, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 879 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (added_personas);
#line 879 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		added_personas = (GeeSet*) _tmp4_;
#line 4203 "dummy-persona-store.c"
	}
	{
		GeeIterator* _persona_it = NULL;
		GeeIterator* _tmp5_;
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp5_ = gee_iterable_iterator ((GeeIterable*) personas);
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_persona_it = _tmp5_;
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		while (TRUE) {
#line 4214 "dummy-persona-store.c"
			GeeIterator* _tmp6_;
			FolksDummyPersona* persona = NULL;
			GeeIterator* _tmp7_;
			gpointer _tmp8_;
			FolksDummyPersona* _tmp9_;
			GType _tmp10_;
			GeeHashSet* _tmp11_;
			FolksDummyPersona* _tmp12_;
			GeeHashMap* _tmp17_;
			FolksDummyPersona* _tmp18_;
			const gchar* _tmp19_;
			const gchar* _tmp20_;
			GeeSet* _tmp21_;
			FolksDummyPersona* _tmp22_;
			gboolean _tmp23_;
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp6_ = _persona_it;
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (!gee_iterator_next (_tmp6_)) {
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				break;
#line 4236 "dummy-persona-store.c"
			}
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp7_ = _persona_it;
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp8_ = gee_iterator_get (_tmp7_);
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			persona = (FolksDummyPersona*) _tmp8_;
#line 883 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp9_ = persona;
#line 883 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp10_ = self->priv->_persona_type;
#line 883 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_vala_assert (g_type_is_a (G_TYPE_FROM_INSTANCE ((GObject*) _tmp9_), _tmp10_), "persona.get_type ().is_a (this._persona_type)");
#line 887 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp11_ = self->priv->_pending_persona_unregistrations;
#line 887 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp12_ = persona;
#line 887 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp11_, _tmp12_)) {
#line 4256 "dummy-persona-store.c"
				GeeHashMap* _tmp13_;
				FolksDummyPersona* _tmp14_;
				const gchar* _tmp15_;
				const gchar* _tmp16_;
#line 888 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp13_ = self->priv->_personas;
#line 888 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp14_ = persona;
#line 888 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp15_ = folks_persona_get_iid ((FolksPersona*) _tmp14_);
#line 888 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp16_ = _tmp15_;
#line 888 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				gee_abstract_map_unset ((GeeAbstractMap*) _tmp13_, _tmp16_, NULL);
#line 4271 "dummy-persona-store.c"
			}
#line 890 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp17_ = self->priv->_personas;
#line 890 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp18_ = persona;
#line 890 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp19_ = folks_persona_get_iid ((FolksPersona*) _tmp18_);
#line 890 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp20_ = _tmp19_;
#line 890 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (gee_abstract_map_has_key ((GeeAbstractMap*) _tmp17_, _tmp20_)) {
#line 891 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (persona);
#line 891 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				continue;
#line 4287 "dummy-persona-store.c"
			}
#line 893 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp21_ = added_personas;
#line 893 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp22_ = persona;
#line 893 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			gee_collection_add ((GeeCollection*) _tmp21_, _tmp22_);
#line 894 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp23_ = emit_notifications;
#line 894 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_tmp23_ == TRUE) {
#line 4299 "dummy-persona-store.c"
				GeeHashMap* _tmp24_;
				FolksDummyPersona* _tmp25_;
				const gchar* _tmp26_;
				const gchar* _tmp27_;
				FolksDummyPersona* _tmp28_;
#line 895 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp24_ = self->priv->_personas;
#line 895 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp25_ = persona;
#line 895 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp26_ = folks_persona_get_iid ((FolksPersona*) _tmp25_);
#line 895 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp27_ = _tmp26_;
#line 895 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp28_ = persona;
#line 895 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				gee_abstract_map_set ((GeeAbstractMap*) _tmp24_, _tmp27_, _tmp28_);
#line 4317 "dummy-persona-store.c"
			}
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (persona);
#line 4321 "dummy-persona-store.c"
		}
#line 881 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (_persona_it);
#line 4325 "dummy-persona-store.c"
	}
#line 898 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp30_ = added_personas;
#line 898 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp31_ = gee_collection_get_size ((GeeCollection*) _tmp30_);
#line 898 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp32_ = _tmp31_;
#line 898 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp32_ > 0) {
#line 4335 "dummy-persona-store.c"
		gboolean _tmp33_;
#line 898 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp33_ = emit_notifications;
#line 898 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp29_ = _tmp33_ == TRUE;
#line 4341 "dummy-persona-store.c"
	} else {
#line 898 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp29_ = FALSE;
#line 4345 "dummy-persona-store.c"
	}
#line 898 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp29_) {
#line 4349 "dummy-persona-store.c"
		GeeSet* _tmp34_;
#line 899 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp34_ = added_personas;
#line 899 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_folks_persona_store_emit_personas_changed ((FolksPersonaStore*) self, _tmp34_, NULL, NULL, NULL, FOLKS_GROUP_DETAILS_CHANGE_REASON_NONE);
#line 4355 "dummy-persona-store.c"
	}
#line 869 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (added_personas);
#line 4359 "dummy-persona-store.c"
}


/**
   * Unregister existing personas with the persona store.
   *
   * This unregisters a set of personas as if they had just disappeared from the
   * backing store. If the persona store is not frozen (see
   * {@link FolksDummy.PersonaStore.freeze_personas_changed}) the changes are
   * made externally visible on the store immediately (e.g. in the
   * {@link Folks.PersonaStore.personas} property and through a
   * {@link Folks.PersonaStore.personas_changed} signal). If the store is
   * frozen, the changes will be pending until the store is next unfrozen.
   *
   * @param personas set of personas to unregister
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_unregister_personas (FolksDummyPersonaStore* self,
                                               GeeSet* personas)
{
	GeeSet* removed_personas = NULL;
	gboolean emit_notifications = FALSE;
	guint _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp19_ = FALSE;
	GeeSet* _tmp20_;
	gint _tmp21_;
	gint _tmp22_;
#line 917 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 917 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (personas != NULL);
#line 920 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_personas_changed_frozen;
#line 920 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	emit_notifications = _tmp0_ == ((guint) 0);
#line 924 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = emit_notifications;
#line 924 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp1_ == FALSE) {
#line 4402 "dummy-persona-store.c"
		GeeHashSet* _tmp2_;
		GeeSet* _tmp3_;
#line 925 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp2_ = self->priv->_pending_persona_unregistrations;
#line 925 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp3_ = _g_object_ref0 ((GeeSet*) _tmp2_);
#line 925 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (removed_personas);
#line 925 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		removed_personas = _tmp3_;
#line 4413 "dummy-persona-store.c"
	} else {
		GeeHashSet* _tmp4_;
#line 927 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp4_ = gee_hash_set_new (FOLKS_DUMMY_TYPE_PERSONA, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 927 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (removed_personas);
#line 927 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		removed_personas = (GeeSet*) _tmp4_;
#line 4422 "dummy-persona-store.c"
	}
	{
		GeeIterator* __persona_it = NULL;
		GeeIterator* _tmp5_;
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp5_ = gee_iterable_iterator ((GeeIterable*) personas);
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		__persona_it = _tmp5_;
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		while (TRUE) {
#line 4433 "dummy-persona-store.c"
			GeeIterator* _tmp6_;
			FolksDummyPersona* _persona = NULL;
			GeeIterator* _tmp7_;
			gpointer _tmp8_;
			GeeHashSet* _tmp9_;
			FolksDummyPersona* _tmp10_;
			FolksDummyPersona* persona = NULL;
			GeeHashMap* _tmp11_;
			FolksDummyPersona* _tmp12_;
			const gchar* _tmp13_;
			const gchar* _tmp14_;
			gpointer _tmp15_;
			FolksDummyPersona* _tmp16_;
			GeeSet* _tmp17_;
			FolksDummyPersona* _tmp18_;
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp6_ = __persona_it;
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (!gee_iterator_next (_tmp6_)) {
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				break;
#line 4455 "dummy-persona-store.c"
			}
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp7_ = __persona_it;
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp8_ = gee_iterator_get (_tmp7_);
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_persona = (FolksDummyPersona*) _tmp8_;
#line 933 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp9_ = self->priv->_pending_persona_registrations;
#line 933 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp10_ = _persona;
#line 933 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			gee_abstract_collection_remove ((GeeAbstractCollection*) _tmp9_, _tmp10_);
#line 935 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp11_ = self->priv->_personas;
#line 935 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp12_ = _persona;
#line 935 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp13_ = folks_persona_get_iid ((FolksPersona*) _tmp12_);
#line 935 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp14_ = _tmp13_;
#line 935 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp15_ = gee_abstract_map_get ((GeeAbstractMap*) _tmp11_, _tmp14_);
#line 935 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			persona = (FolksDummyPersona*) _tmp15_;
#line 936 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp16_ = persona;
#line 936 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (_tmp16_ == NULL) {
#line 937 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (persona);
#line 937 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_persona);
#line 937 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				continue;
#line 4491 "dummy-persona-store.c"
			}
#line 939 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp17_ = removed_personas;
#line 939 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp18_ = persona;
#line 939 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			gee_collection_add ((GeeCollection*) _tmp17_, G_TYPE_CHECK_INSTANCE_CAST (_tmp18_, FOLKS_DUMMY_TYPE_PERSONA, FolksDummyPersona));
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (persona);
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (_persona);
#line 4503 "dummy-persona-store.c"
		}
#line 929 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_g_object_unref0 (__persona_it);
#line 4507 "dummy-persona-store.c"
	}
#line 944 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp20_ = removed_personas;
#line 944 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp21_ = gee_collection_get_size ((GeeCollection*) _tmp20_);
#line 944 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp22_ = _tmp21_;
#line 944 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp22_ > 0) {
#line 4517 "dummy-persona-store.c"
		gboolean _tmp23_;
#line 944 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp23_ = emit_notifications;
#line 944 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp19_ = _tmp23_ == TRUE;
#line 4523 "dummy-persona-store.c"
	} else {
#line 944 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp19_ = FALSE;
#line 4527 "dummy-persona-store.c"
	}
#line 944 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp19_) {
#line 4531 "dummy-persona-store.c"
		GeeSet* _tmp33_;
		{
			GeeIterator* __persona_it = NULL;
			GeeSet* _tmp24_;
			GeeIterator* _tmp25_;
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp24_ = removed_personas;
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_tmp25_ = gee_iterable_iterator ((GeeIterable*) _tmp24_);
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			__persona_it = _tmp25_;
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			while (TRUE) {
#line 4545 "dummy-persona-store.c"
				GeeIterator* _tmp26_;
				FolksDummyPersona* _persona = NULL;
				GeeIterator* _tmp27_;
				gpointer _tmp28_;
				GeeHashMap* _tmp29_;
				FolksDummyPersona* _tmp30_;
				const gchar* _tmp31_;
				const gchar* _tmp32_;
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp26_ = __persona_it;
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				if (!gee_iterator_next (_tmp26_)) {
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
					break;
#line 4560 "dummy-persona-store.c"
				}
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp27_ = __persona_it;
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp28_ = gee_iterator_get (_tmp27_);
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_persona = (FolksDummyPersona*) _tmp28_;
#line 947 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp29_ = self->priv->_personas;
#line 947 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp30_ = _persona;
#line 947 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp31_ = folks_persona_get_iid ((FolksPersona*) _tmp30_);
#line 947 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_tmp32_ = _tmp31_;
#line 947 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				gee_abstract_map_unset ((GeeAbstractMap*) _tmp29_, _tmp32_, NULL);
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				_g_object_unref0 (_persona);
#line 4580 "dummy-persona-store.c"
			}
#line 946 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			_g_object_unref0 (__persona_it);
#line 4584 "dummy-persona-store.c"
		}
#line 949 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp33_ = removed_personas;
#line 949 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_folks_persona_store_emit_personas_changed ((FolksPersonaStore*) self, NULL, _tmp33_, NULL, NULL, FOLKS_GROUP_DETAILS_CHANGE_REASON_NONE);
#line 4590 "dummy-persona-store.c"
	}
#line 917 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (removed_personas);
#line 4594 "dummy-persona-store.c"
}


/**
   * Reach quiescence on the store.
   *
   * If the {@link Folks.PersonaStore.prepare} method has already been called on
   * the store, this causes the store to signal that it has reached quiescence
   * immediately. If the store has not yet been prepared, this will set a flag
   * to ensure that quiescence is reached as soon as
   * {@link Folks.PersonaStore.prepare} is called.
   *
   * This must be called before the store will reach quiescence.
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_reach_quiescence (FolksDummyPersonaStore* self)
{
	gboolean _tmp0_;
	gboolean _tmp1_;
#line 966 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 969 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_is_prepared;
#line 969 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp0_ == FALSE) {
#line 971 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		self->priv->_quiescent_on_prepare = TRUE;
#line 972 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return;
#line 4626 "dummy-persona-store.c"
	}
#line 977 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = self->priv->_is_quiescent;
#line 977 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp1_ == FALSE) {
#line 979 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		self->priv->_is_quiescent = TRUE;
#line 980 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_object_notify ((GObject*) self, "is-quiescent");
#line 4636 "dummy-persona-store.c"
	}
}


/**
   * Update the {@link Folks.PersonaStore.is_user_set_default} property.
   *
   * Backend method for use by test code to simulate a backing-store-driven
   * change in the {@link Folks.PersonaStore.is_user_set_default} property.
   *
   * @param is_user_set_default new value for the property
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_update_is_user_set_default (FolksDummyPersonaStore* self,
                                                      gboolean is_user_set_default)
{
#line 994 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 998 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_persona_store_set_is_user_set_default ((FolksPersonaStore*) self, is_user_set_default);
#line 4659 "dummy-persona-store.c"
}


/**
   * Update the {@link Folks.PersonaStore.trust_level} property.
   *
   * Backend method for use by test code to simulate a backing-store-driven
   * change in the {@link Folks.PersonaStore.trust_level} property.
   *
   * @param trust_level new value for the property
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_update_trust_level (FolksDummyPersonaStore* self,
                                              FolksPersonaStoreTrust trust_level)
{
#line 1011 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 1015 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_persona_store_set_trust_level ((FolksPersonaStore*) self, trust_level);
#line 4681 "dummy-persona-store.c"
}


/**
   * Mock function for {@link Folks.PersonaStore.add_persona_from_details}.
   *
   * This function is called whenever this store's
   * {@link Folks.PersonaStore.add_persona_from_details} method is called. It
   * allows the caller to determine whether adding the given persona should
   * fail, by throwing an error from this mock function. If no error is thrown
   * from this function, adding the given persona will succeed. This is useful
   * for testing error handling of calls to
   * {@link Folks.PersonaStore.add_persona_from_details}.
   *
   * The value returned by this function gives a delay which is imposed for
   * completion of the {@link Folks.PersonaStore.add_persona_from_details} call.
   * Negative or zero delays
   * result in completion in an idle callback, and positive delays result in
   * completion after that many milliseconds.
   *
   * If this is ``null``, all calls to
   * {@link Folks.PersonaStore.add_persona_from_details} will succeed.
   *
   * This mock function may be changed at any time; changes will take effect for
   * the next call to {@link Folks.PersonaStore.add_persona_from_details}.
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_set_add_persona_from_details_mock (FolksDummyPersonaStore* self,
                                                             FolksDummyPersonaStoreAddPersonaFromDetailsMock mock,
                                                             gpointer mock_target)
{
#line 1043 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 1045 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_add_persona_from_details_mock = mock;
#line 1045 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_add_persona_from_details_mock_target = mock_target;
#line 4721 "dummy-persona-store.c"
}


/**
   * Mock function for {@link Folks.PersonaStore.remove_persona}.
   *
   * This function is called whenever this store's
   * {@link Folks.PersonaStore.remove_persona} method is called. It allows
   * the caller to determine whether removing the given persona should fail, by
   * throwing an error from this mock function. If no error is thrown from this
   * function, removing the given persona will succeed. This is useful for
   * testing error handling of calls to
   * {@link Folks.PersonaStore.remove_persona}.
   *
   * See {@link FolksDummy.PersonaStore.set_add_persona_from_details_mock}.
   *
   * This mock function may be changed at any time; changes will take effect for
   * the next call to {@link Folks.PersonaStore.remove_persona}.
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_set_remove_persona_mock (FolksDummyPersonaStore* self,
                                                   FolksDummyPersonaStoreRemovePersonaMock mock,
                                                   gpointer mock_target)
{
#line 1066 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 1068 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_remove_persona_mock = mock;
#line 1068 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_remove_persona_mock_target = mock_target;
#line 4754 "dummy-persona-store.c"
}


/**
   * Mock function for {@link Folks.PersonaStore.prepare}.
   *
   * This function is called whenever this store's
   * {@link Folks.PersonaStore.prepare} method is called on an unprepared store.
   * It allows the caller to determine whether preparing the store should fail,
   * by throwing an error from this mock function. If no error is thrown from
   * this function, preparing the store will succeed (and all future calls to
   * {@link Folks.PersonaStore.prepare} will return immediately without calling
   * this mock function). This is useful for testing error handling of calls to
   * {@link Folks.PersonaStore.prepare}.
   *
   * See {@link FolksDummy.PersonaStore.set_add_persona_from_details_mock}.
   *
   * This mock function may be changed at any time; changes will take effect for
   * the next call to {@link Folks.PersonaStore.prepare}.
   *
   * @since 0.9.7
   */
void
folks_dummy_persona_store_set_prepare_mock (FolksDummyPersonaStore* self,
                                            FolksDummyPersonaStorePrepareMock mock,
                                            gpointer mock_target)
{
#line 1090 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 1092 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_prepare_mock = mock;
#line 1092 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_prepare_mock_target = mock_target;
#line 4788 "dummy-persona-store.c"
}


static const gchar*
folks_dummy_persona_store_real_get_type_id (FolksPersonaStore* base)
{
	const gchar* result;
	FolksDummyPersonaStore* self;
#line 77 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 77 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = BACKEND_NAME;
#line 77 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 4803 "dummy-persona-store.c"
}


static FolksMaybeBool
folks_dummy_persona_store_real_get_can_add_personas (FolksPersonaStore* base)
{
	FolksMaybeBool result;
	FolksDummyPersonaStore* self;
	gboolean _tmp0_;
	FolksMaybeBool _tmp1_;
#line 90 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 92 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_is_prepared;
#line 92 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (!_tmp0_) {
#line 94 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		result = FOLKS_MAYBE_BOOL_FALSE;
#line 94 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return result;
#line 4824 "dummy-persona-store.c"
	}
#line 97 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = self->priv->_can_add_personas;
#line 97 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp1_;
#line 97 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 4832 "dummy-persona-store.c"
}


static FolksMaybeBool
folks_dummy_persona_store_real_get_can_alias_personas (FolksPersonaStore* base)
{
	FolksMaybeBool result;
	FolksDummyPersonaStore* self;
	gboolean _tmp0_;
	FolksMaybeBool _tmp1_;
#line 112 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 114 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_is_prepared;
#line 114 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (!_tmp0_) {
#line 116 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		result = FOLKS_MAYBE_BOOL_FALSE;
#line 116 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return result;
#line 4853 "dummy-persona-store.c"
	}
#line 119 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = self->priv->_can_alias_personas;
#line 119 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp1_;
#line 119 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 4861 "dummy-persona-store.c"
}


static gboolean
_vala_string_array_contains (gchar* * stack,
                             int stack_length,
                             gchar* needle)
{
	int i;
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	for (i = 0; i < stack_length; i++) {
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (g_strcmp0 (stack[i], needle) == 0) {
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			return TRUE;
#line 4877 "dummy-persona-store.c"
		}
	}
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return FALSE;
#line 4882 "dummy-persona-store.c"
}


static FolksMaybeBool
folks_dummy_persona_store_real_get_can_group_personas (FolksPersonaStore* base)
{
	FolksMaybeBool result;
	FolksDummyPersonaStore* self;
	FolksMaybeBool _tmp0_ = 0;
	gchar** _tmp1_;
	gint _tmp1__length1;
#line 132 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = self->priv->_always_writeable_properties;
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1__length1 = self->priv->_always_writeable_properties_length1;
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_vala_string_array_contains (_tmp1_, _tmp1__length1, "groups")) {
#line 135 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp0_ = FOLKS_MAYBE_BOOL_TRUE;
#line 4904 "dummy-persona-store.c"
	} else {
#line 135 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp0_ = FOLKS_MAYBE_BOOL_FALSE;
#line 4908 "dummy-persona-store.c"
	}
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp0_;
#line 134 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 4914 "dummy-persona-store.c"
}


static FolksMaybeBool
folks_dummy_persona_store_real_get_can_remove_personas (FolksPersonaStore* base)
{
	FolksMaybeBool result;
	FolksDummyPersonaStore* self;
	gboolean _tmp0_;
	FolksMaybeBool _tmp1_;
#line 150 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 152 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_is_prepared;
#line 152 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (!_tmp0_) {
#line 154 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		result = FOLKS_MAYBE_BOOL_FALSE;
#line 154 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return result;
#line 4935 "dummy-persona-store.c"
	}
#line 157 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = self->priv->_can_remove_personas;
#line 157 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp1_;
#line 157 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 4943 "dummy-persona-store.c"
}


static gboolean
folks_dummy_persona_store_real_get_is_prepared (FolksPersonaStore* base)
{
	gboolean result;
	FolksDummyPersonaStore* self;
	gboolean _tmp0_;
#line 170 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 170 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_is_prepared;
#line 170 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp0_;
#line 170 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 4961 "dummy-persona-store.c"
}


static gchar**
folks_dummy_persona_store_real_get_always_writeable_properties (FolksPersonaStore* base,
                                                                int* result_length1)
{
	gchar** result;
	FolksDummyPersonaStore* self;
	gboolean _tmp0_;
	gchar** _tmp3_;
	gint _tmp3__length1;
	gchar** _tmp4_;
	gint _tmp4__length1;
#line 183 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 185 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_is_prepared;
#line 185 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (!_tmp0_) {
#line 4982 "dummy-persona-store.c"
		gchar** _tmp1_;
		gint _tmp1__length1;
		gchar** _tmp2_;
		gint _tmp2__length1;
#line 187 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp1_ = folks_dummy_persona_store__always_writeable_properties_empty;
#line 187 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp1__length1 = folks_dummy_persona_store__always_writeable_properties_empty_length1;
#line 187 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp2_ = _tmp1_;
#line 187 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		_tmp2__length1 = _tmp1__length1;
#line 187 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		if (result_length1) {
#line 187 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			*result_length1 = _tmp2__length1;
#line 4999 "dummy-persona-store.c"
		}
#line 187 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		result = _tmp2_;
#line 187 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		return result;
#line 5005 "dummy-persona-store.c"
	}
#line 190 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp3_ = self->priv->_always_writeable_properties;
#line 190 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp3__length1 = self->priv->_always_writeable_properties_length1;
#line 190 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp4_ = _tmp3_;
#line 190 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp4__length1 = _tmp3__length1;
#line 190 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (result_length1) {
#line 190 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		*result_length1 = _tmp4__length1;
#line 5019 "dummy-persona-store.c"
	}
#line 190 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp4_;
#line 190 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 5025 "dummy-persona-store.c"
}


static gboolean
folks_dummy_persona_store_real_get_is_quiescent (FolksPersonaStore* base)
{
	gboolean result;
	FolksDummyPersonaStore* self;
	gboolean _tmp0_;
#line 203 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 203 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_is_quiescent;
#line 203 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp0_;
#line 203 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 5043 "dummy-persona-store.c"
}


static GeeMap*
folks_dummy_persona_store_real_get_personas (FolksPersonaStore* base)
{
	GeeMap* result;
	FolksDummyPersonaStore* self;
	GeeMap* _tmp0_;
#line 230 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = (FolksDummyPersonaStore*) base;
#line 230 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_personas_ro;
#line 230 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp0_;
#line 230 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 5061 "dummy-persona-store.c"
}


GType
folks_dummy_persona_store_get_persona_type (FolksDummyPersonaStore* self)
{
	GType result;
	GType _tmp0_;
#line 747 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_val_if_fail (self != NULL, 0UL);
#line 747 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_persona_type;
#line 747 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	result = _tmp0_;
#line 747 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return result;
#line 5078 "dummy-persona-store.c"
}


void
folks_dummy_persona_store_set_persona_type (FolksDummyPersonaStore* self,
                                            GType value)
{
	GType _tmp0_;
#line 748 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_return_if_fail (self != NULL);
#line 750 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_vala_assert (g_type_is_a (value, FOLKS_DUMMY_TYPE_PERSONA), "value.is_a (typeof (FolksDummy.Persona))");
#line 751 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = self->priv->_persona_type;
#line 751 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if (_tmp0_ != value) {
#line 753 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		self->priv->_persona_type = value;
#line 754 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_object_notify ((GObject*) self, "persona-type");
#line 5099 "dummy-persona-store.c"
	}
#line 748 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_notify_by_pspec ((GObject *) self, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_PERSONA_TYPE_PROPERTY]);
#line 5103 "dummy-persona-store.c"
}


static GObject *
folks_dummy_persona_store_constructor (GType type,
                                       guint n_construct_properties,
                                       GObjectConstructParam * construct_properties)
{
	GObject * obj;
	GObjectClass * parent_class;
	FolksDummyPersonaStore * self;
	GeeHashMap* _tmp0_;
	GeeHashMap* _tmp1_;
	GeeMap* _tmp2_;
	GeeMap* _tmp3_;
	GeeHashSet* _tmp4_;
	GeeHashSet* _tmp5_;
#line 257 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	parent_class = G_OBJECT_CLASS (folks_dummy_persona_store_parent_class);
#line 257 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 257 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FOLKS_DUMMY_TYPE_PERSONA_STORE, FolksDummyPersonaStore);
#line 259 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = gee_hash_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, FOLKS_DUMMY_TYPE_PERSONA, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 259 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (self->priv->_personas);
#line 259 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_personas = _tmp0_;
#line 260 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp1_ = self->priv->_personas;
#line 260 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp2_ = gee_abstract_map_get_read_only_view ((GeeAbstractMap*) _tmp1_);
#line 260 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp3_ = _tmp2_;
#line 260 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (self->priv->_personas_ro);
#line 260 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_personas_ro = _tmp3_;
#line 261 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp4_ = gee_hash_set_new (FOLKS_DUMMY_TYPE_PERSONA, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 261 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (self->priv->_pending_persona_registrations);
#line 261 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_pending_persona_registrations = _tmp4_;
#line 262 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp5_ = gee_hash_set_new (FOLKS_DUMMY_TYPE_PERSONA, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL, NULL, NULL, NULL);
#line 262 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (self->priv->_pending_persona_unregistrations);
#line 262 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_pending_persona_unregistrations = _tmp5_;
#line 257 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	return obj;
#line 5157 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_class_init (FolksDummyPersonaStoreClass * klass)
{
	gchar** _tmp0_;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store_parent_class = g_type_class_peek_parent (klass);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_type_class_add_private (klass, sizeof (FolksDummyPersonaStorePrivate));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	((FolksPersonaStoreClass *) klass)->add_persona_from_details = (void (*) (FolksPersonaStore *, GHashTable*, GAsyncReadyCallback, gpointer)) folks_dummy_persona_store_real_add_persona_from_details;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	((FolksPersonaStoreClass *) klass)->add_persona_from_details_finish = (FolksPersona* (*) (FolksPersonaStore *, GAsyncResult*, GError**)) folks_dummy_persona_store_real_add_persona_from_details_finish;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	((FolksPersonaStoreClass *) klass)->remove_persona = (void (*) (FolksPersonaStore *, FolksPersona*, GAsyncReadyCallback, gpointer)) folks_dummy_persona_store_real_remove_persona;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	((FolksPersonaStoreClass *) klass)->remove_persona_finish = (void (*) (FolksPersonaStore *, GAsyncResult*, GError**)) folks_dummy_persona_store_real_remove_persona_finish;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	((FolksPersonaStoreClass *) klass)->prepare = (void (*) (FolksPersonaStore *, GAsyncReadyCallback, gpointer)) folks_dummy_persona_store_real_prepare;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	((FolksPersonaStoreClass *) klass)->prepare_finish = (void (*) (FolksPersonaStore *, GAsyncResult*, GError**)) folks_dummy_persona_store_real_prepare_finish;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_type_id = folks_dummy_persona_store_real_get_type_id;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_can_add_personas = folks_dummy_persona_store_real_get_can_add_personas;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_can_alias_personas = folks_dummy_persona_store_real_get_can_alias_personas;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_can_group_personas = folks_dummy_persona_store_real_get_can_group_personas;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_can_remove_personas = folks_dummy_persona_store_real_get_can_remove_personas;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_is_prepared = folks_dummy_persona_store_real_get_is_prepared;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_always_writeable_properties = folks_dummy_persona_store_real_get_always_writeable_properties;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_is_quiescent = folks_dummy_persona_store_real_get_is_quiescent;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	FOLKS_PERSONA_STORE_CLASS (klass)->get_personas = folks_dummy_persona_store_real_get_personas;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_folks_dummy_persona_store_get_property;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_folks_dummy_persona_store_set_property;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	G_OBJECT_CLASS (klass)->constructor = folks_dummy_persona_store_constructor;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	G_OBJECT_CLASS (klass)->finalize = folks_dummy_persona_store_finalize;
#line 5207 "dummy-persona-store.c"
	/**
	   * The type of persona store this is.
	   *
	   * See {@link Folks.PersonaStore.type_id}.
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_TYPE_ID_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_TYPE_ID_PROPERTY] = g_param_spec_string ("type-id", "type-id", "type-id", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5217 "dummy-persona-store.c"
	/**
	   * Whether this PersonaStore can add {@link Folks.Persona}s.
	   *
	   * See {@link Folks.PersonaStore.can_add_personas}.
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_CAN_ADD_PERSONAS_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_CAN_ADD_PERSONAS_PROPERTY] = g_param_spec_enum ("can-add-personas", "can-add-personas", "can-add-personas", FOLKS_TYPE_MAYBE_BOOL, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5227 "dummy-persona-store.c"
	/**
	   * Whether this PersonaStore can set the alias of {@link Folks.Persona}s.
	   *
	   * See {@link Folks.PersonaStore.can_alias_personas}.
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_CAN_ALIAS_PERSONAS_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_CAN_ALIAS_PERSONAS_PROPERTY] = g_param_spec_enum ("can-alias-personas", "can-alias-personas", "can-alias-personas", FOLKS_TYPE_MAYBE_BOOL, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5237 "dummy-persona-store.c"
	/**
	   * Whether this PersonaStore can set the groups of {@link Folks.Persona}s.
	   *
	   * See {@link Folks.PersonaStore.can_group_personas}.
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_CAN_GROUP_PERSONAS_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_CAN_GROUP_PERSONAS_PROPERTY] = g_param_spec_enum ("can-group-personas", "can-group-personas", "can-group-personas", FOLKS_TYPE_MAYBE_BOOL, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5247 "dummy-persona-store.c"
	/**
	   * Whether this PersonaStore can remove {@link Folks.Persona}s.
	   *
	   * See {@link Folks.PersonaStore.can_remove_personas}.
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_CAN_REMOVE_PERSONAS_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_CAN_REMOVE_PERSONAS_PROPERTY] = g_param_spec_enum ("can-remove-personas", "can-remove-personas", "can-remove-personas", FOLKS_TYPE_MAYBE_BOOL, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5257 "dummy-persona-store.c"
	/**
	   * Whether this PersonaStore has been prepared.
	   *
	   * See {@link Folks.PersonaStore.is_prepared}.
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_IS_PREPARED_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_IS_PREPARED_PROPERTY] = g_param_spec_boolean ("is-prepared", "is-prepared", "is-prepared", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5267 "dummy-persona-store.c"
	/**
	   * {@inheritDoc}
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_ALWAYS_WRITEABLE_PROPERTIES_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_ALWAYS_WRITEABLE_PROPERTIES_PROPERTY] = g_param_spec_boxed ("always-writeable-properties", "always-writeable-properties", "always-writeable-properties", G_TYPE_STRV, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_IS_QUIESCENT_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_IS_QUIESCENT_PROPERTY] = g_param_spec_boolean ("is-quiescent", "is-quiescent", "is-quiescent", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5277 "dummy-persona-store.c"
	/**
	   * The {@link Persona}s exposed by this PersonaStore.
	   *
	   * See {@link Folks.PersonaStore.personas}.
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_PERSONAS_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_PERSONAS_PROPERTY] = g_param_spec_object ("personas", "personas", "personas", GEE_TYPE_MAP, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 5287 "dummy-persona-store.c"
	/**
	   * Type of programmatically created personas.
	   *
	   * This is the type used to create new personas when
	   * {@link Folks.PersonaStore.add_persona_from_details} is called. It must be a
	   * subtype of {@link FolksDummy.Persona}.
	   *
	   * This may be modified at any time, with modifications taking effect for the
	   * next call to {@link Folks.PersonaStore.add_persona_from_details} or
	   * {@link FolksDummy.PersonaStore.register_personas}.
	   *
	   * @since 0.9.7
	   */
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), FOLKS_DUMMY_PERSONA_STORE_PERSONA_TYPE_PROPERTY, folks_dummy_persona_store_properties[FOLKS_DUMMY_PERSONA_STORE_PERSONA_TYPE_PROPERTY] = g_param_spec_gtype ("persona-type", "persona-type", "persona-type", G_TYPE_NONE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 174 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = g_new0 (gchar*, 0 + 1);
#line 174 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store__always_writeable_properties_empty = _tmp0_;
#line 174 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	folks_dummy_persona_store__always_writeable_properties_empty_length1 = 0;
#line 5309 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_instance_init (FolksDummyPersonaStore * self)
{
	gchar** _tmp0_;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv = FOLKS_DUMMY_PERSONA_STORE_GET_PRIVATE (self);
#line 64 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_is_prepared = FALSE;
#line 65 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_prepare_pending = FALSE;
#line 66 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_is_quiescent = FALSE;
#line 67 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_quiescent_on_prepare = FALSE;
#line 68 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_contact_id = 0;
#line 79 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_can_add_personas = FOLKS_MAYBE_BOOL_FALSE;
#line 101 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_can_alias_personas = FOLKS_MAYBE_BOOL_FALSE;
#line 139 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_can_remove_personas = FOLKS_MAYBE_BOOL_FALSE;
#line 173 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_tmp0_ = g_new0 (gchar*, 0 + 1);
#line 173 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_always_writeable_properties = _tmp0_;
#line 173 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_always_writeable_properties_length1 = 0;
#line 173 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->__always_writeable_properties_size_ = self->priv->_always_writeable_properties_length1;
#line 219 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_personas_changed_frozen = (guint) 0;
#line 686 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_add_persona_from_details_mock = NULL;
#line 686 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_add_persona_from_details_mock_target = self;
#line 708 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_remove_persona_mock = NULL;
#line 708 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_remove_persona_mock_target = self;
#line 728 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_prepare_mock = NULL;
#line 728 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_prepare_mock_target = self;
#line 730 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_persona_type = FOLKS_DUMMY_TYPE_PERSONA;
#line 5359 "dummy-persona-store.c"
}


static void
folks_dummy_persona_store_finalize (GObject * obj)
{
	FolksDummyPersonaStore * self;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, FOLKS_DUMMY_TYPE_PERSONA_STORE, FolksDummyPersonaStore);
#line 173 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	self->priv->_always_writeable_properties = (_vala_array_free (self->priv->_always_writeable_properties, self->priv->_always_writeable_properties_length1, (GDestroyNotify) g_free), NULL);
#line 206 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (self->priv->_personas);
#line 207 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (self->priv->_personas_ro);
#line 211 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (self->priv->_pending_persona_registrations);
#line 215 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_g_object_unref0 (self->priv->_pending_persona_unregistrations);
#line 295 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	G_OBJECT_CLASS (folks_dummy_persona_store_parent_class)->finalize (obj);
#line 5381 "dummy-persona-store.c"
}


/**
 * A persona store which allows {@link FolksDummy.Persona}s to be
 * programmatically created and manipulated, for the purposes of testing the
 * core of libfolks itself. This should not be used in user-visible
 * applications.
 *
 * There are two sides to this class’ interface: the methods and properties
 * declared by {@link Folks.PersonaStore}, which form the normal libfolks
 * persona store API; and the mock methods and properties (see for example
 * {@link FolksDummy.PersonaStore.set_add_persona_from_details_mock}) which are
 * intended to be used by test driver code to simulate the behaviour of a real
 * backing store. Calls to these mock methods effect state changes in the store
 * which are visible in the normal libfolks API. The ``update_``, ``register_``
 * and ``unregister_`` prefixes and the ``mock`` suffix are commonly used for
 * backing store methods.
 *
 * The main action performed with a dummy persona store is to change its set of
 * personas, adding and removing them dynamically to test client-side behaviour.
 * The client-side APIs ({@link Folks.PersonaStore.add_persona_from_details} and
 * {@link Folks.PersonaStore.remove_persona}) should //not// be used for this.
 * Instead, the mock APIs should be used:
 * {@link FolksDummy.PersonaStore.freeze_personas_changed},
 * {@link FolksDummy.PersonaStore.register_personas},
 * {@link FolksDummy.PersonaStore.unregister_personas} and
 * {@link FolksDummy.PersonaStore.thaw_personas_changed}. These can be used to
 * build up complex {@link Folks.PersonaStore.personas_changed} signal
 * emissions, which are only emitted after the final call to
 * {@link FolksDummy.PersonaStore.thaw_personas_changed}.
 *
 * The API in {@link FolksDummy} is unstable and may change wildly. It is
 * designed mostly for use by libfolks unit tests.
 *
 * @since 0.9.7
 */
GType
folks_dummy_persona_store_get_type (void)
{
	static volatile gsize folks_dummy_persona_store_type_id__volatile = 0;
	if (g_once_init_enter (&folks_dummy_persona_store_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (FolksDummyPersonaStoreClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) folks_dummy_persona_store_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (FolksDummyPersonaStore), 0, (GInstanceInitFunc) folks_dummy_persona_store_instance_init, NULL };
		GType folks_dummy_persona_store_type_id;
		folks_dummy_persona_store_type_id = g_type_register_static (FOLKS_TYPE_PERSONA_STORE, "FolksDummyPersonaStore", &g_define_type_info, 0);
		g_once_init_leave (&folks_dummy_persona_store_type_id__volatile, folks_dummy_persona_store_type_id);
	}
	return folks_dummy_persona_store_type_id__volatile;
}


static void
_vala_folks_dummy_persona_store_get_property (GObject * object,
                                              guint property_id,
                                              GValue * value,
                                              GParamSpec * pspec)
{
	FolksDummyPersonaStore * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, FOLKS_DUMMY_TYPE_PERSONA_STORE, FolksDummyPersonaStore);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	switch (property_id) {
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_TYPE_ID_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_string (value, folks_persona_store_get_type_id ((FolksPersonaStore*) self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_CAN_ADD_PERSONAS_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_enum (value, folks_persona_store_get_can_add_personas ((FolksPersonaStore*) self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_CAN_ALIAS_PERSONAS_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_enum (value, folks_persona_store_get_can_alias_personas ((FolksPersonaStore*) self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_CAN_GROUP_PERSONAS_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_enum (value, folks_persona_store_get_can_group_personas ((FolksPersonaStore*) self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_CAN_REMOVE_PERSONAS_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_enum (value, folks_persona_store_get_can_remove_personas ((FolksPersonaStore*) self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_IS_PREPARED_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_boolean (value, folks_persona_store_get_is_prepared ((FolksPersonaStore*) self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_ALWAYS_WRITEABLE_PROPERTIES_PROPERTY:
#line 5481 "dummy-persona-store.c"
		{
			int length;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			g_value_set_boxed (value, folks_persona_store_get_always_writeable_properties ((FolksPersonaStore*) self, &length));
#line 5486 "dummy-persona-store.c"
		}
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_IS_QUIESCENT_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_boolean (value, folks_persona_store_get_is_quiescent ((FolksPersonaStore*) self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_PERSONAS_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_object (value, folks_persona_store_get_personas ((FolksPersonaStore*) self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_PERSONA_TYPE_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		g_value_set_gtype (value, folks_dummy_persona_store_get_persona_type (self));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 5508 "dummy-persona-store.c"
		default:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 5514 "dummy-persona-store.c"
	}
}


static void
_vala_folks_dummy_persona_store_set_property (GObject * object,
                                              guint property_id,
                                              const GValue * value,
                                              GParamSpec * pspec)
{
	FolksDummyPersonaStore * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, FOLKS_DUMMY_TYPE_PERSONA_STORE, FolksDummyPersonaStore);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	switch (property_id) {
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		case FOLKS_DUMMY_PERSONA_STORE_PERSONA_TYPE_PROPERTY:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		folks_dummy_persona_store_set_persona_type (self, g_value_get_gtype (value));
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 5535 "dummy-persona-store.c"
		default:
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		break;
#line 5541 "dummy-persona-store.c"
	}
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	if ((array != NULL) && (destroy_func != NULL)) {
#line 5553 "dummy-persona-store.c"
		int i;
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
			if (((gpointer*) array)[i] != NULL) {
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
				destroy_func (((gpointer*) array)[i]);
#line 5561 "dummy-persona-store.c"
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	_vala_array_destroy (array, array_length, destroy_func);
#line 62 "/run/build/folks/backends/dummy/lib/dummy-persona-store.vala"
	g_free (array);
#line 5577 "dummy-persona-store.c"
}



