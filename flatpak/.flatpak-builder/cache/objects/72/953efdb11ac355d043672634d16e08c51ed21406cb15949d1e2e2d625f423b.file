/* tpf-persona-store-cache.c generated by valac 0.40.11, the Vala compiler
 * generated from tpf-persona-store-cache.vala, do not modify */

/*
 * Copyright (C) 2011 Collabora Ltd.
 *
 * This library is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 2.1 of the License, or
 * (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this library.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Authors:
 *       Philip Withnall <philip.withnall@collabora.co.uk>
 */


#include <glib.h>
#include <glib-object.h>
#include <folks/folks.h>
#include <gee.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include <folks/small-set.h>


#define TPF_TYPE_PERSONA_STORE_CACHE (tpf_persona_store_cache_get_type ())
#define TPF_PERSONA_STORE_CACHE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TPF_TYPE_PERSONA_STORE_CACHE, TpfPersonaStoreCache))
#define TPF_PERSONA_STORE_CACHE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TPF_TYPE_PERSONA_STORE_CACHE, TpfPersonaStoreCacheClass))
#define TPF_IS_PERSONA_STORE_CACHE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TPF_TYPE_PERSONA_STORE_CACHE))
#define TPF_IS_PERSONA_STORE_CACHE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TPF_TYPE_PERSONA_STORE_CACHE))
#define TPF_PERSONA_STORE_CACHE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TPF_TYPE_PERSONA_STORE_CACHE, TpfPersonaStoreCacheClass))

typedef struct _TpfPersonaStoreCache TpfPersonaStoreCache;
typedef struct _TpfPersonaStoreCacheClass TpfPersonaStoreCacheClass;
typedef struct _TpfPersonaStoreCachePrivate TpfPersonaStoreCachePrivate;

#define TPF_TYPE_PERSONA_STORE (tpf_persona_store_get_type ())
#define TPF_PERSONA_STORE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TPF_TYPE_PERSONA_STORE, TpfPersonaStore))
#define TPF_PERSONA_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TPF_TYPE_PERSONA_STORE, TpfPersonaStoreClass))
#define TPF_IS_PERSONA_STORE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TPF_TYPE_PERSONA_STORE))
#define TPF_IS_PERSONA_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TPF_TYPE_PERSONA_STORE))
#define TPF_PERSONA_STORE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TPF_TYPE_PERSONA_STORE, TpfPersonaStoreClass))

typedef struct _TpfPersonaStore TpfPersonaStore;
typedef struct _TpfPersonaStoreClass TpfPersonaStoreClass;
enum  {
	TPF_PERSONA_STORE_CACHE_0_PROPERTY,
	TPF_PERSONA_STORE_CACHE_STORE_PROPERTY,
	TPF_PERSONA_STORE_CACHE_NUM_PROPERTIES
};
static GParamSpec* tpf_persona_store_cache_properties[TPF_PERSONA_STORE_CACHE_NUM_PROPERTIES];

#define TPF_TYPE_PERSONA (tpf_persona_get_type ())
#define TPF_PERSONA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TPF_TYPE_PERSONA, TpfPersona))
#define TPF_PERSONA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TPF_TYPE_PERSONA, TpfPersonaClass))
#define TPF_IS_PERSONA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TPF_TYPE_PERSONA))
#define TPF_IS_PERSONA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TPF_TYPE_PERSONA))
#define TPF_PERSONA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TPF_TYPE_PERSONA, TpfPersonaClass))

typedef struct _TpfPersona TpfPersona;
typedef struct _TpfPersonaClass TpfPersonaClass;
#define _g_variant_type_free0(var) ((var == NULL) ? NULL : (var = (g_variant_type_free (var), NULL)))
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _Block2Data Block2Data;
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))

struct _TpfPersonaStoreCache {
	FolksObjectCache parent_instance;
	TpfPersonaStoreCachePrivate * priv;
};

struct _TpfPersonaStoreCacheClass {
	FolksObjectCacheClass parent_class;
};

struct _TpfPersonaStoreCachePrivate {
	TpfPersonaStore* _store;
};

typedef void (*TpfPersonaStoreCacheAfdDeserialisationCallback) (const gchar* val, GeeHashMultiMap* parameters, gpointer user_data);
struct _Block2Data {
	int _ref_count_;
	TpfPersonaStoreCache* self;
	FolksSmallSet* email_address_set;
	FolksSmallSet* phone_number_set;
	FolksSmallSet* url_set;
};


static gpointer tpf_persona_store_cache_parent_class = NULL;

GType tpf_persona_store_cache_get_type (void) G_GNUC_CONST;
GType tpf_persona_store_get_type (void) G_GNUC_CONST;
#define TPF_PERSONA_STORE_CACHE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TPF_TYPE_PERSONA_STORE_CACHE, TpfPersonaStoreCachePrivate))
#define TPF_PERSONA_STORE_CACHE__FILE_FORMAT_VERSION ((guint8) 2)
TpfPersonaStoreCache* tpf_persona_store_cache_new (TpfPersonaStore* store);
TpfPersonaStoreCache* tpf_persona_store_cache_construct (GType object_type,
                                                         TpfPersonaStore* store);
GType tpf_persona_get_type (void) G_GNUC_CONST;
static GVariantType* tpf_persona_store_cache_real_get_serialised_object_type (FolksObjectCache* base,
                                                                       guint8 object_version);
static guint8 tpf_persona_store_cache_real_get_serialised_object_version (FolksObjectCache* base);
static GVariant** tpf_persona_store_cache_serialise_abstract_field_details (TpfPersonaStoreCache* self,
                                                                     GeeSet* field_details_set,
                                                                     int* result_length1);
static GVariant* _variant_new1 (const gchar* value);
static GVariant* tpf_persona_store_cache_real_serialise_object (FolksObjectCache* base,
                                                         TpfPersona* persona);
gboolean tpf_persona_get_is_in_contact_list (TpfPersona* self);
static void tpf_persona_store_cache_deserialise_abstract_field_details (TpfPersonaStoreCache* self,
                                                                 GVariant* input_variants,
                                                                 TpfPersonaStoreCacheAfdDeserialisationCallback cb,
                                                                 gpointer cb_target);
static TpfPersona* tpf_persona_store_cache_real_deserialise_object (FolksObjectCache* base,
                                                             GVariant* variant,
                                                             guint8 object_version);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static guint _folks_abstract_field_details_hash_static_gee_hash_data_func (gconstpointer v,
                                                                    gpointer self);
static gboolean _folks_abstract_field_details_equal_static_gee_equal_data_func (gconstpointer a,
                                                                         gconstpointer b,
                                                                         gpointer self);
static void ___lambda5_ (Block2Data* _data2_,
                  const gchar* v,
                  GeeHashMultiMap* p);
static void ____lambda5__tpf_persona_store_cache_afd_deserialisation_callback (const gchar* val,
                                                                        GeeHashMultiMap* parameters,
                                                                        gpointer self);
static void ___lambda6_ (Block2Data* _data2_,
                  const gchar* v,
                  GeeHashMultiMap* p);
static void ____lambda6__tpf_persona_store_cache_afd_deserialisation_callback (const gchar* val,
                                                                        GeeHashMultiMap* parameters,
                                                                        gpointer self);
static void ___lambda7_ (Block2Data* _data2_,
                  const gchar* v,
                  GeeHashMultiMap* p);
static void ____lambda7__tpf_persona_store_cache_afd_deserialisation_callback (const gchar* val,
                                                                        GeeHashMultiMap* parameters,
                                                                        gpointer self);
TpfPersona* tpf_persona_new_from_cache (TpfPersonaStore* store,
                                        const gchar* uid,
                                        const gchar* iid,
                                        const gchar* im_address,
                                        const gchar* protocol,
                                        FolksSmallSet* groups,
                                        gboolean is_favourite,
                                        const gchar* alias,
                                        gboolean is_in_contact_list,
                                        gboolean is_user,
                                        GLoadableIcon* avatar,
                                        GDateTime* birthday,
                                        const gchar* full_name,
                                        FolksSmallSet* email_addresses,
                                        FolksSmallSet* phone_numbers,
                                        FolksSmallSet* urls);
TpfPersona* tpf_persona_construct_from_cache (GType object_type,
                                              TpfPersonaStore* store,
                                              const gchar* uid,
                                              const gchar* iid,
                                              const gchar* im_address,
                                              const gchar* protocol,
                                              FolksSmallSet* groups,
                                              gboolean is_favourite,
                                              const gchar* alias,
                                              gboolean is_in_contact_list,
                                              gboolean is_user,
                                              GLoadableIcon* avatar,
                                              GDateTime* birthday,
                                              const gchar* full_name,
                                              FolksSmallSet* email_addresses,
                                              FolksSmallSet* phone_numbers,
                                              FolksSmallSet* urls);
TpfPersonaStore* tpf_persona_store_cache_get_store (TpfPersonaStoreCache* self);
static void tpf_persona_store_cache_set_store (TpfPersonaStoreCache* self,
                                        TpfPersonaStore* value);
static void tpf_persona_store_cache_finalize (GObject * obj);
static void _vala_tpf_persona_store_cache_get_property (GObject * object,
                                                 guint property_id,
                                                 GValue * value,
                                                 GParamSpec * pspec);
static void _vala_tpf_persona_store_cache_set_property (GObject * object,
                                                 guint property_id,
                                                 const GValue * value,
                                                 GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);


TpfPersonaStoreCache*
tpf_persona_store_cache_construct (GType object_type,
                                   TpfPersonaStore* store)
{
	TpfPersonaStoreCache * self = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
#line 61 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_val_if_fail (store != NULL, NULL);
#line 63 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp0_ = folks_persona_store_get_id ((FolksPersonaStore*) store);
#line 63 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp1_ = _tmp0_;
#line 63 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = (TpfPersonaStoreCache*) g_object_new (object_type, "t_type", TPF_TYPE_PERSONA, "t_dup_func", (GBoxedCopyFunc) g_object_ref, "t_destroy_func", (GDestroyNotify) g_object_unref, "type-id", "tpf-persona-stores", "id", _tmp1_, "store", store, NULL);
#line 61 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return self;
#line 224 "tpf-persona-store-cache.c"
}


TpfPersonaStoreCache*
tpf_persona_store_cache_new (TpfPersonaStore* store)
{
#line 61 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return tpf_persona_store_cache_construct (TPF_TYPE_PERSONA_STORE_CACHE, store);
#line 233 "tpf-persona-store-cache.c"
}


static gpointer
_g_variant_type_copy0 (gpointer self)
{
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return self ? g_variant_type_copy (self) : NULL;
#line 242 "tpf-persona-store-cache.c"
}


static GVariantType*
tpf_persona_store_cache_real_get_serialised_object_type (FolksObjectCache* base,
                                                         guint8 object_version)
{
	TpfPersonaStoreCache * self;
	GVariantType* result = NULL;
#line 68 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = (TpfPersonaStoreCache*) base;
#line 72 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (object_version == G_MAXUINT8) {
#line 74 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		object_version = TPF_PERSONA_STORE_CACHE__FILE_FORMAT_VERSION;
#line 258 "tpf-persona-store-cache.c"
	}
#line 77 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (((gint) object_version) == 1) {
#line 262 "tpf-persona-store-cache.c"
		const GVariantType* _tmp0_;
		GVariantType* _tmp1_;
		const GVariantType* _tmp2_;
		GVariantType* _tmp3_;
		const GVariantType* _tmp4_;
		GVariantType* _tmp5_;
		const GVariantType* _tmp6_;
		GVariantType* _tmp7_;
		const GVariantType* _tmp8_;
		GVariantType* _tmp9_;
		const GVariantType* _tmp10_;
		GVariantType* _tmp11_;
		const GVariantType* _tmp12_;
		GVariantType* _tmp13_;
		const GVariantType* _tmp14_;
		GVariantType* _tmp15_;
		const GVariantType* _tmp16_;
		GVariantType* _tmp17_;
		const GVariantType* _tmp18_;
		GVariantType* _tmp19_;
		GVariantType** _tmp20_;
		GVariantType** _tmp21_;
		gint _tmp21__length1;
		GVariantType* _tmp22_;
		GVariantType* _tmp23_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp0_ = G_VARIANT_TYPE_STRING;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp1_ = _g_variant_type_copy0 (_tmp0_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp2_ = G_VARIANT_TYPE_STRING;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp3_ = _g_variant_type_copy0 (_tmp2_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp4_ = G_VARIANT_TYPE_STRING;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp5_ = _g_variant_type_copy0 (_tmp4_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp6_ = G_VARIANT_TYPE_STRING;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp7_ = _g_variant_type_copy0 (_tmp6_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp8_ = G_VARIANT_TYPE_STRING;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp9_ = g_variant_type_new_array (_tmp8_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp10_ = G_VARIANT_TYPE_BOOLEAN;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp11_ = _g_variant_type_copy0 (_tmp10_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp12_ = G_VARIANT_TYPE_STRING;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp13_ = _g_variant_type_copy0 (_tmp12_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp14_ = G_VARIANT_TYPE_BOOLEAN;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp15_ = _g_variant_type_copy0 (_tmp14_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp16_ = G_VARIANT_TYPE_BOOLEAN;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp17_ = _g_variant_type_copy0 (_tmp16_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp18_ = G_VARIANT_TYPE_STRING;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp19_ = g_variant_type_new_maybe (_tmp18_);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_ = g_new0 (GVariantType*, 10 + 1);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[0] = _tmp1_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[1] = _tmp3_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[2] = _tmp5_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[3] = _tmp7_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[4] = _tmp9_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[5] = _tmp11_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[6] = _tmp13_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[7] = _tmp15_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[8] = _tmp17_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_[9] = _tmp19_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp21_ = _tmp20_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp21__length1 = 10;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp22_ = g_variant_type_new_tuple (_tmp21_, 10);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp23_ = _tmp22_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp21_ = (_vala_array_free (_tmp21_, _tmp21__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		result = _tmp23_;
#line 79 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		return result;
#line 364 "tpf-persona-store-cache.c"
	} else {
		gboolean _tmp24_ = FALSE;
#line 92 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		if (((gint) object_version) == 2) {
#line 92 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp24_ = TRUE;
#line 371 "tpf-persona-store-cache.c"
		} else {
#line 92 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp24_ = object_version == G_MAXUINT8;
#line 375 "tpf-persona-store-cache.c"
		}
#line 92 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		if (_tmp24_) {
#line 379 "tpf-persona-store-cache.c"
			const GVariantType* _tmp25_;
			GVariantType* _tmp26_;
			const GVariantType* _tmp27_;
			GVariantType* _tmp28_;
			const GVariantType* _tmp29_;
			GVariantType* _tmp30_;
			const GVariantType* _tmp31_;
			GVariantType* _tmp32_;
			const GVariantType* _tmp33_;
			GVariantType* _tmp34_;
			const GVariantType* _tmp35_;
			GVariantType* _tmp36_;
			const GVariantType* _tmp37_;
			GVariantType* _tmp38_;
			const GVariantType* _tmp39_;
			GVariantType* _tmp40_;
			const GVariantType* _tmp41_;
			GVariantType* _tmp42_;
			const GVariantType* _tmp43_;
			GVariantType* _tmp44_;
			const GVariantType* _tmp45_;
			GVariantType* _tmp46_;
			const GVariantType* _tmp47_;
			GVariantType* _tmp48_;
			const GVariantType* _tmp49_;
			GVariantType* _tmp50_;
			const GVariantType* _tmp51_;
			GVariantType* _tmp52_;
			const GVariantType* _tmp53_;
			GVariantType* _tmp54_;
			GVariantType** _tmp55_;
			GVariantType** _tmp56_;
			gint _tmp56__length1;
			GVariantType* _tmp57_;
			GVariantType* _tmp58_;
			GVariantType* _tmp59_;
			GVariantType** _tmp60_;
			GVariantType** _tmp61_;
			gint _tmp61__length1;
			GVariantType* _tmp62_;
			GVariantType* _tmp63_;
			GVariantType* _tmp64_;
			const GVariantType* _tmp65_;
			GVariantType* _tmp66_;
			const GVariantType* _tmp67_;
			GVariantType* _tmp68_;
			const GVariantType* _tmp69_;
			GVariantType* _tmp70_;
			GVariantType** _tmp71_;
			GVariantType** _tmp72_;
			gint _tmp72__length1;
			GVariantType* _tmp73_;
			GVariantType* _tmp74_;
			GVariantType* _tmp75_;
			GVariantType** _tmp76_;
			GVariantType** _tmp77_;
			gint _tmp77__length1;
			GVariantType* _tmp78_;
			GVariantType* _tmp79_;
			GVariantType* _tmp80_;
			const GVariantType* _tmp81_;
			GVariantType* _tmp82_;
			const GVariantType* _tmp83_;
			GVariantType* _tmp84_;
			const GVariantType* _tmp85_;
			GVariantType* _tmp86_;
			GVariantType** _tmp87_;
			GVariantType** _tmp88_;
			gint _tmp88__length1;
			GVariantType* _tmp89_;
			GVariantType* _tmp90_;
			GVariantType* _tmp91_;
			GVariantType** _tmp92_;
			GVariantType** _tmp93_;
			gint _tmp93__length1;
			GVariantType* _tmp94_;
			GVariantType* _tmp95_;
			GVariantType* _tmp96_;
			GVariantType** _tmp97_;
			GVariantType** _tmp98_;
			gint _tmp98__length1;
			GVariantType* _tmp99_;
			GVariantType* _tmp100_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp25_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp26_ = _g_variant_type_copy0 (_tmp25_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp27_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp28_ = _g_variant_type_copy0 (_tmp27_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp29_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp30_ = _g_variant_type_copy0 (_tmp29_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp31_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp32_ = _g_variant_type_copy0 (_tmp31_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp33_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp34_ = g_variant_type_new_array (_tmp33_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp35_ = G_VARIANT_TYPE_BOOLEAN;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp36_ = _g_variant_type_copy0 (_tmp35_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp37_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp38_ = _g_variant_type_copy0 (_tmp37_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp39_ = G_VARIANT_TYPE_BOOLEAN;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp40_ = _g_variant_type_copy0 (_tmp39_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp41_ = G_VARIANT_TYPE_BOOLEAN;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp42_ = _g_variant_type_copy0 (_tmp41_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp43_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp44_ = g_variant_type_new_maybe (_tmp43_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp45_ = G_VARIANT_TYPE_INT64;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp46_ = g_variant_type_new_maybe (_tmp45_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp47_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp48_ = _g_variant_type_copy0 (_tmp47_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp49_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp50_ = _g_variant_type_copy0 (_tmp49_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp51_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp52_ = _g_variant_type_copy0 (_tmp51_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp53_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp54_ = _g_variant_type_copy0 (_tmp53_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp55_ = g_new0 (GVariantType*, 2 + 1);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp55_[0] = _tmp52_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp55_[1] = _tmp54_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp56_ = _tmp55_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp56__length1 = 2;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp57_ = g_variant_type_new_tuple (_tmp56_, 2);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp58_ = _tmp57_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp59_ = g_variant_type_new_array (_tmp58_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp60_ = g_new0 (GVariantType*, 2 + 1);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp60_[0] = _tmp50_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp60_[1] = _tmp59_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp61_ = _tmp60_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp61__length1 = 2;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp62_ = g_variant_type_new_tuple (_tmp61_, 2);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp63_ = _tmp62_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp64_ = g_variant_type_new_array (_tmp63_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp65_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp66_ = _g_variant_type_copy0 (_tmp65_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp67_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp68_ = _g_variant_type_copy0 (_tmp67_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp69_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp70_ = _g_variant_type_copy0 (_tmp69_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp71_ = g_new0 (GVariantType*, 2 + 1);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp71_[0] = _tmp68_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp71_[1] = _tmp70_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp72_ = _tmp71_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp72__length1 = 2;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp73_ = g_variant_type_new_tuple (_tmp72_, 2);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp74_ = _tmp73_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp75_ = g_variant_type_new_array (_tmp74_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp76_ = g_new0 (GVariantType*, 2 + 1);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp76_[0] = _tmp66_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp76_[1] = _tmp75_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp77_ = _tmp76_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp77__length1 = 2;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp78_ = g_variant_type_new_tuple (_tmp77_, 2);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp79_ = _tmp78_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp80_ = g_variant_type_new_array (_tmp79_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp81_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp82_ = _g_variant_type_copy0 (_tmp81_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp83_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp84_ = _g_variant_type_copy0 (_tmp83_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp85_ = G_VARIANT_TYPE_STRING;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp86_ = _g_variant_type_copy0 (_tmp85_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp87_ = g_new0 (GVariantType*, 2 + 1);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp87_[0] = _tmp84_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp87_[1] = _tmp86_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp88_ = _tmp87_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp88__length1 = 2;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp89_ = g_variant_type_new_tuple (_tmp88_, 2);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp90_ = _tmp89_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp91_ = g_variant_type_new_array (_tmp90_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp92_ = g_new0 (GVariantType*, 2 + 1);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp92_[0] = _tmp82_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp92_[1] = _tmp91_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp93_ = _tmp92_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp93__length1 = 2;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp94_ = g_variant_type_new_tuple (_tmp93_, 2);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp95_ = _tmp94_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp96_ = g_variant_type_new_array (_tmp95_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_ = g_new0 (GVariantType*, 15 + 1);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[0] = _tmp26_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[1] = _tmp28_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[2] = _tmp30_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[3] = _tmp32_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[4] = _tmp34_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[5] = _tmp36_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[6] = _tmp38_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[7] = _tmp40_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[8] = _tmp42_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[9] = _tmp44_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[10] = _tmp46_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[11] = _tmp48_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[12] = _tmp64_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[13] = _tmp80_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp97_[14] = _tmp96_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp98_ = _tmp97_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp98__length1 = 15;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp99_ = g_variant_type_new_tuple (_tmp98_, 15);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp100_ = _tmp99_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp98_ = (_vala_array_free (_tmp98_, _tmp98__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_type_free0 (_tmp95_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp93_ = (_vala_array_free (_tmp93_, _tmp93__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_type_free0 (_tmp90_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp88_ = (_vala_array_free (_tmp88_, _tmp88__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_type_free0 (_tmp79_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp77_ = (_vala_array_free (_tmp77_, _tmp77__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_type_free0 (_tmp74_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp72_ = (_vala_array_free (_tmp72_, _tmp72__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_type_free0 (_tmp63_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp61_ = (_vala_array_free (_tmp61_, _tmp61__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_type_free0 (_tmp58_);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp56_ = (_vala_array_free (_tmp56_, _tmp56__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			result = _tmp100_;
#line 94 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			return result;
#line 713 "tpf-persona-store-cache.c"
		}
	}
#line 132 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	result = NULL;
#line 132 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return result;
#line 720 "tpf-persona-store-cache.c"
}


static guint8
tpf_persona_store_cache_real_get_serialised_object_version (FolksObjectCache* base)
{
	TpfPersonaStoreCache * self;
	guint8 result = 0U;
#line 135 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = (TpfPersonaStoreCache*) base;
#line 137 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	result = TPF_PERSONA_STORE_CACHE__FILE_FORMAT_VERSION;
#line 137 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return result;
#line 735 "tpf-persona-store-cache.c"
}


static GVariant*
_variant_new1 (const gchar* value)
{
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return g_variant_ref_sink (g_variant_new_string (value));
#line 744 "tpf-persona-store-cache.c"
}


static GVariant**
tpf_persona_store_cache_serialise_abstract_field_details (TpfPersonaStoreCache* self,
                                                          GeeSet* field_details_set,
                                                          int* result_length1)
{
	GVariant** result = NULL;
	GVariant** output_variants = NULL;
	gint _tmp0_;
	gint _tmp1_;
	GVariant** _tmp2_;
	gint output_variants_length1;
	gint _output_variants_size_;
	guint i = 0U;
	GVariant** _tmp52_;
	gint _tmp52__length1;
#line 140 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 140 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_val_if_fail (field_details_set != NULL, NULL);
#line 143 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp0_ = gee_collection_get_size ((GeeCollection*) field_details_set);
#line 143 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp1_ = _tmp0_;
#line 143 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp2_ = g_new0 (GVariant*, _tmp1_ + 1);
#line 143 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	output_variants = _tmp2_;
#line 143 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	output_variants_length1 = _tmp1_;
#line 143 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_output_variants_size_ = output_variants_length1;
#line 145 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	i = (guint) 0;
#line 781 "tpf-persona-store-cache.c"
	{
		GeeIterator* _afd_it = NULL;
		GeeIterator* _tmp3_;
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp3_ = gee_iterable_iterator ((GeeIterable*) field_details_set);
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_afd_it = _tmp3_;
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		while (TRUE) {
#line 791 "tpf-persona-store-cache.c"
			GeeIterator* _tmp4_;
			FolksAbstractFieldDetails* afd = NULL;
			GeeIterator* _tmp5_;
			gpointer _tmp6_;
			GVariant** parameters = NULL;
			FolksAbstractFieldDetails* _tmp7_;
			GeeMultiMap* _tmp8_;
			GeeMultiMap* _tmp9_;
			gint _tmp10_;
			gint _tmp11_;
			GVariant** _tmp12_;
			gint parameters_length1;
			gint _parameters_size_;
			guint f = 0U;
			GeeMapIterator* iter = NULL;
			FolksAbstractFieldDetails* _tmp13_;
			GeeMultiMap* _tmp14_;
			GeeMultiMap* _tmp15_;
			GeeMapIterator* _tmp16_;
			GVariant** _tmp32_;
			gint _tmp32__length1;
			guint _tmp33_;
			FolksAbstractFieldDetails* _tmp34_;
			gconstpointer _tmp35_;
			const gchar* _tmp36_;
			GVariant* _tmp37_;
			const GVariantType* _tmp38_;
			GVariantType* _tmp39_;
			const GVariantType* _tmp40_;
			GVariantType* _tmp41_;
			GVariantType** _tmp42_;
			GVariantType** _tmp43_;
			gint _tmp43__length1;
			GVariantType* _tmp44_;
			GVariantType* _tmp45_;
			GVariant** _tmp46_;
			gint _tmp46__length1;
			GVariant* _tmp47_;
			GVariant** _tmp48_;
			GVariant** _tmp49_;
			gint _tmp49__length1;
			GVariant* _tmp50_;
			GVariant* _tmp51_;
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp4_ = _afd_it;
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			if (!gee_iterator_next (_tmp4_)) {
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				break;
#line 841 "tpf-persona-store-cache.c"
			}
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp5_ = _afd_it;
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp6_ = gee_iterator_get (_tmp5_);
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			afd = (FolksAbstractFieldDetails*) _tmp6_;
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp7_ = afd;
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp8_ = folks_abstract_field_details_get_parameters (_tmp7_);
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp9_ = _tmp8_;
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp10_ = gee_multi_map_get_size (_tmp9_);
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp11_ = _tmp10_;
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp12_ = g_new0 (GVariant*, _tmp11_ + 1);
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			parameters = _tmp12_;
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			parameters_length1 = _tmp11_;
#line 148 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_parameters_size_ = parameters_length1;
#line 150 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			f = (guint) 0;
#line 152 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp13_ = afd;
#line 152 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp14_ = folks_abstract_field_details_get_parameters (_tmp13_);
#line 152 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp15_ = _tmp14_;
#line 152 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp16_ = gee_multi_map_map_iterator (_tmp15_);
#line 152 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			iter = _tmp16_;
#line 154 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			while (TRUE) {
#line 881 "tpf-persona-store-cache.c"
				GeeMapIterator* _tmp17_;
				GVariant** _tmp18_;
				gint _tmp18__length1;
				guint _tmp19_;
				GeeMapIterator* _tmp20_;
				gpointer _tmp21_;
				gchar* _tmp22_;
				GVariant* _tmp23_;
				GeeMapIterator* _tmp24_;
				gpointer _tmp25_;
				gchar* _tmp26_;
				GVariant* _tmp27_;
				GVariant** _tmp28_;
				GVariant** _tmp29_;
				gint _tmp29__length1;
				GVariant* _tmp30_;
				GVariant* _tmp31_;
#line 154 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp17_ = iter;
#line 154 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				if (!gee_map_iterator_next (_tmp17_)) {
#line 154 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
					break;
#line 905 "tpf-persona-store-cache.c"
				}
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp18_ = parameters;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp18__length1 = parameters_length1;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp19_ = f;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				f = _tmp19_ + 1;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp20_ = iter;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp21_ = gee_map_iterator_get_key (_tmp20_);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp22_ = (gchar*) _tmp21_;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp23_ = g_variant_new_string (_tmp22_);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				g_variant_ref_sink (_tmp23_);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp24_ = iter;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp25_ = gee_map_iterator_get_value (_tmp24_);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp26_ = (gchar*) _tmp25_;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp27_ = g_variant_new_string (_tmp26_);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				g_variant_ref_sink (_tmp27_);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp28_ = g_new0 (GVariant*, 2 + 1);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp28_[0] = _tmp23_;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp28_[1] = _tmp27_;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp29_ = _tmp28_;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp29__length1 = 2;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp30_ = g_variant_new_tuple (_tmp29_, 2);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				g_variant_ref_sink (_tmp30_);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_variant_unref0 (_tmp18_[_tmp19_]);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp18_[_tmp19_] = _tmp30_;
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp31_ = _tmp18_[_tmp19_];
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp29_ = (_vala_array_free (_tmp29_, _tmp29__length1, (GDestroyNotify) g_variant_unref), NULL);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_free0 (_tmp26_);
#line 155 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_free0 (_tmp22_);
#line 961 "tpf-persona-store-cache.c"
			}
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp32_ = output_variants;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp32__length1 = output_variants_length1;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp33_ = i;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			i = _tmp33_ + 1;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp34_ = afd;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp35_ = folks_abstract_field_details_get_value (_tmp34_);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp36_ = _tmp35_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp37_ = _variant_new1 ((const gchar*) _tmp36_);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp38_ = G_VARIANT_TYPE_STRING;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp39_ = _g_variant_type_copy0 (_tmp38_);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp40_ = G_VARIANT_TYPE_STRING;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp41_ = _g_variant_type_copy0 (_tmp40_);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp42_ = g_new0 (GVariantType*, 2 + 1);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp42_[0] = _tmp39_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp42_[1] = _tmp41_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp43_ = _tmp42_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp43__length1 = 2;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp44_ = g_variant_type_new_tuple (_tmp43_, 2);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp45_ = _tmp44_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp46_ = parameters;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp46__length1 = parameters_length1;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp47_ = g_variant_new_array (_tmp45_, _tmp46_, _tmp46__length1);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			g_variant_ref_sink (_tmp47_);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp48_ = g_new0 (GVariant*, 2 + 1);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp48_[0] = _tmp37_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp48_[1] = _tmp47_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp49_ = _tmp48_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp49__length1 = 2;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp50_ = g_variant_new_tuple (_tmp49_, 2);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			g_variant_ref_sink (_tmp50_);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_unref0 (_tmp32_[_tmp33_]);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp32_[_tmp33_] = _tmp50_;
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp51_ = _tmp32_[_tmp33_];
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp49_ = (_vala_array_free (_tmp49_, _tmp49__length1, (GDestroyNotify) g_variant_unref), NULL);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_type_free0 (_tmp45_);
#line 160 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp43_ = (_vala_array_free (_tmp43_, _tmp43__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_object_unref0 (iter);
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			parameters = (_vala_array_free (parameters, parameters_length1, (GDestroyNotify) g_variant_unref), NULL);
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_object_unref0 (afd);
#line 1041 "tpf-persona-store-cache.c"
		}
#line 146 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_afd_it);
#line 1045 "tpf-persona-store-cache.c"
	}
#line 169 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp52_ = output_variants;
#line 169 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp52__length1 = output_variants_length1;
#line 169 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (result_length1) {
#line 169 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		*result_length1 = _tmp52__length1;
#line 1055 "tpf-persona-store-cache.c"
	}
#line 169 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	result = _tmp52_;
#line 169 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return result;
#line 1061 "tpf-persona-store-cache.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return self ? g_object_ref (self) : NULL;
#line 1070 "tpf-persona-store-cache.c"
}


static gpointer
_g_variant_ref0 (gpointer self)
{
#line 194 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return self ? g_variant_ref (self) : NULL;
#line 1079 "tpf-persona-store-cache.c"
}


static GVariant*
tpf_persona_store_cache_real_serialise_object (FolksObjectCache* base,
                                               TpfPersona* persona)
{
	TpfPersonaStoreCache * self;
	GVariant* result = NULL;
	GVariant** groups = NULL;
	GeeSet* _tmp0_;
	GeeSet* _tmp1_;
	gint _tmp2_;
	gint _tmp3_;
	GVariant** _tmp4_;
	gint groups_length1;
	gint _groups_size_;
	guint i = 0U;
	gchar* im_protocol = NULL;
	GeeMapIterator* iter = NULL;
	GeeMultiMap* _tmp16_;
	GeeMultiMap* _tmp17_;
	GeeMapIterator* _tmp18_;
	GeeMapIterator* _tmp19_;
	GFile* _tmp22_ = NULL;
	gboolean _tmp23_ = FALSE;
	GLoadableIcon* _tmp24_;
	GLoadableIcon* _tmp25_;
	GFile* avatar_file = NULL;
	GFile* _tmp31_;
	GVariant* _tmp32_ = NULL;
	GFile* _tmp33_;
	GVariant* avatar_variant = NULL;
	GVariant* _tmp38_;
	GVariant* _tmp39_ = NULL;
	GDateTime* _tmp40_;
	GDateTime* _tmp41_;
	GVariant* birthday_variant = NULL;
	GVariant* _tmp45_;
	GVariant** email_addresses = NULL;
	GeeSet* _tmp46_;
	GeeSet* _tmp47_;
	gint _tmp48_ = 0;
	GVariant** _tmp49_;
	gint email_addresses_length1;
	gint _email_addresses_size_;
	GVariant** phone_numbers = NULL;
	GeeSet* _tmp50_;
	GeeSet* _tmp51_;
	gint _tmp52_ = 0;
	GVariant** _tmp53_;
	gint phone_numbers_length1;
	gint _phone_numbers_size_;
	GVariant** urls = NULL;
	GeeSet* _tmp54_;
	GeeSet* _tmp55_;
	gint _tmp56_ = 0;
	GVariant** _tmp57_;
	gint urls_length1;
	gint _urls_size_;
	const gchar* _tmp58_;
	const gchar* _tmp59_;
	GVariant* _tmp60_;
	const gchar* _tmp61_;
	const gchar* _tmp62_;
	GVariant* _tmp63_;
	const gchar* _tmp64_;
	const gchar* _tmp65_;
	GVariant* _tmp66_;
	const gchar* _tmp67_;
	GVariant* _tmp68_;
	const GVariantType* _tmp69_;
	GVariant** _tmp70_;
	gint _tmp70__length1;
	GVariant* _tmp71_;
	gboolean _tmp72_;
	gboolean _tmp73_;
	GVariant* _tmp74_;
	const gchar* _tmp75_;
	const gchar* _tmp76_;
	GVariant* _tmp77_;
	gboolean _tmp78_;
	gboolean _tmp79_;
	GVariant* _tmp80_;
	gboolean _tmp81_;
	gboolean _tmp82_;
	GVariant* _tmp83_;
	const GVariantType* _tmp84_;
	GVariant* _tmp85_;
	GVariant* _tmp86_;
	const GVariantType* _tmp87_;
	GVariant* _tmp88_;
	const gchar* _tmp89_;
	const gchar* _tmp90_;
	GVariant* _tmp91_;
	const GVariantType* _tmp92_;
	GVariantType* _tmp93_;
	const GVariantType* _tmp94_;
	GVariantType* _tmp95_;
	const GVariantType* _tmp96_;
	GVariantType* _tmp97_;
	GVariantType** _tmp98_;
	GVariantType** _tmp99_;
	gint _tmp99__length1;
	GVariantType* _tmp100_;
	GVariantType* _tmp101_;
	GVariantType* _tmp102_;
	GVariantType** _tmp103_;
	GVariantType** _tmp104_;
	gint _tmp104__length1;
	GVariantType* _tmp105_;
	GVariantType* _tmp106_;
	GVariant* _tmp107_;
	const GVariantType* _tmp108_;
	GVariantType* _tmp109_;
	const GVariantType* _tmp110_;
	GVariantType* _tmp111_;
	const GVariantType* _tmp112_;
	GVariantType* _tmp113_;
	GVariantType** _tmp114_;
	GVariantType** _tmp115_;
	gint _tmp115__length1;
	GVariantType* _tmp116_;
	GVariantType* _tmp117_;
	GVariantType* _tmp118_;
	GVariantType** _tmp119_;
	GVariantType** _tmp120_;
	gint _tmp120__length1;
	GVariantType* _tmp121_;
	GVariantType* _tmp122_;
	GVariant* _tmp123_;
	const GVariantType* _tmp124_;
	GVariantType* _tmp125_;
	const GVariantType* _tmp126_;
	GVariantType* _tmp127_;
	const GVariantType* _tmp128_;
	GVariantType* _tmp129_;
	GVariantType** _tmp130_;
	GVariantType** _tmp131_;
	gint _tmp131__length1;
	GVariantType* _tmp132_;
	GVariantType* _tmp133_;
	GVariantType* _tmp134_;
	GVariantType** _tmp135_;
	GVariantType** _tmp136_;
	gint _tmp136__length1;
	GVariantType* _tmp137_;
	GVariantType* _tmp138_;
	GVariant* _tmp139_;
	GVariant** _tmp140_;
	GVariant** _tmp141_;
	gint _tmp141__length1;
	GVariant* _tmp142_;
	GVariant* _tmp143_;
#line 172 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = (TpfPersonaStoreCache*) base;
#line 172 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_val_if_fail (persona != NULL, NULL);
#line 175 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp0_ = folks_group_details_get_groups ((FolksGroupDetails*) persona);
#line 175 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp1_ = _tmp0_;
#line 175 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp2_ = gee_collection_get_size ((GeeCollection*) _tmp1_);
#line 175 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp3_ = _tmp2_;
#line 175 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp4_ = g_new0 (GVariant*, _tmp3_ + 1);
#line 175 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	groups = _tmp4_;
#line 175 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	groups_length1 = _tmp3_;
#line 175 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_groups_size_ = groups_length1;
#line 177 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	i = (guint) 0;
#line 1256 "tpf-persona-store-cache.c"
	{
		GeeIterator* _group_it = NULL;
		GeeSet* _tmp5_;
		GeeSet* _tmp6_;
		GeeIterator* _tmp7_;
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp5_ = folks_group_details_get_groups ((FolksGroupDetails*) persona);
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp6_ = _tmp5_;
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp7_ = gee_iterable_iterator ((GeeIterable*) _tmp6_);
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_group_it = _tmp7_;
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		while (TRUE) {
#line 1272 "tpf-persona-store-cache.c"
			GeeIterator* _tmp8_;
			gchar* group = NULL;
			GeeIterator* _tmp9_;
			gpointer _tmp10_;
			GVariant** _tmp11_;
			gint _tmp11__length1;
			guint _tmp12_;
			const gchar* _tmp13_;
			GVariant* _tmp14_;
			GVariant* _tmp15_;
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp8_ = _group_it;
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			if (!gee_iterator_next (_tmp8_)) {
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				break;
#line 1289 "tpf-persona-store-cache.c"
			}
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp9_ = _group_it;
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp10_ = gee_iterator_get (_tmp9_);
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			group = (gchar*) _tmp10_;
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp11_ = groups;
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp11__length1 = groups_length1;
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp12_ = i;
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			i = _tmp12_ + 1;
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp13_ = group;
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp14_ = g_variant_new_string (_tmp13_);
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			g_variant_ref_sink (_tmp14_);
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_variant_unref0 (_tmp11_[_tmp12_]);
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp11_[_tmp12_] = _tmp14_;
#line 180 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp15_ = _tmp11_[_tmp12_];
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_free0 (group);
#line 1319 "tpf-persona-store-cache.c"
		}
#line 178 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_group_it);
#line 1323 "tpf-persona-store-cache.c"
	}
#line 184 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	im_protocol = NULL;
#line 186 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp16_ = folks_im_details_get_im_addresses ((FolksImDetails*) persona);
#line 186 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp17_ = _tmp16_;
#line 186 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp18_ = gee_multi_map_map_iterator (_tmp17_);
#line 186 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	iter = _tmp18_;
#line 188 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp19_ = iter;
#line 188 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (gee_map_iterator_next (_tmp19_)) {
#line 1339 "tpf-persona-store-cache.c"
		GeeMapIterator* _tmp20_;
		gpointer _tmp21_;
#line 189 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp20_ = iter;
#line 189 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp21_ = gee_map_iterator_get_key (_tmp20_);
#line 189 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_free0 (im_protocol);
#line 189 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		im_protocol = (gchar*) _tmp21_;
#line 1350 "tpf-persona-store-cache.c"
	}
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp24_ = folks_avatar_details_get_avatar ((FolksAvatarDetails*) persona);
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp25_ = _tmp24_;
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (_tmp25_ != NULL) {
#line 1358 "tpf-persona-store-cache.c"
		GLoadableIcon* _tmp26_;
		GLoadableIcon* _tmp27_;
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp26_ = folks_avatar_details_get_avatar ((FolksAvatarDetails*) persona);
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp27_ = _tmp26_;
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp23_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp27_, g_file_icon_get_type ());
#line 1367 "tpf-persona-store-cache.c"
	} else {
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp23_ = FALSE;
#line 1371 "tpf-persona-store-cache.c"
	}
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (_tmp23_) {
#line 1375 "tpf-persona-store-cache.c"
		GLoadableIcon* _tmp28_;
		GLoadableIcon* _tmp29_;
		GFile* _tmp30_;
#line 193 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp28_ = folks_avatar_details_get_avatar ((FolksAvatarDetails*) persona);
#line 193 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp29_ = _tmp28_;
#line 193 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp30_ = g_file_icon_get_file (G_TYPE_CHECK_INSTANCE_TYPE (_tmp29_, g_file_icon_get_type ()) ? ((GFileIcon*) _tmp29_) : NULL);
#line 193 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp22_ = _tmp30_;
#line 1387 "tpf-persona-store-cache.c"
	} else {
#line 193 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp22_ = NULL;
#line 1391 "tpf-persona-store-cache.c"
	}
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp31_ = _g_object_ref0 (_tmp22_);
#line 192 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	avatar_file = _tmp31_;
#line 194 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp33_ = avatar_file;
#line 194 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (_tmp33_ != NULL) {
#line 1401 "tpf-persona-store-cache.c"
		GFile* _tmp34_;
		gchar* _tmp35_;
		gchar* _tmp36_;
		GVariant* _tmp37_;
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp34_ = avatar_file;
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp35_ = g_file_get_uri (_tmp34_);
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp36_ = _tmp35_;
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp37_ = g_variant_new_string (_tmp36_);
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		g_variant_ref_sink (_tmp37_);
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp32_);
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp32_ = _tmp37_;
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_free0 (_tmp36_);
#line 1422 "tpf-persona-store-cache.c"
	} else {
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp32_);
#line 195 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp32_ = NULL;
#line 1428 "tpf-persona-store-cache.c"
	}
#line 194 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp38_ = _g_variant_ref0 (_tmp32_);
#line 194 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	avatar_variant = _tmp38_;
#line 198 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp40_ = folks_birthday_details_get_birthday ((FolksBirthdayDetails*) persona);
#line 198 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp41_ = _tmp40_;
#line 198 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (_tmp41_ != NULL) {
#line 1440 "tpf-persona-store-cache.c"
		GDateTime* _tmp42_;
		GDateTime* _tmp43_;
		GVariant* _tmp44_;
#line 199 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp42_ = folks_birthday_details_get_birthday ((FolksBirthdayDetails*) persona);
#line 199 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp43_ = _tmp42_;
#line 199 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp44_ = g_variant_new_int64 (g_date_time_to_unix (_tmp43_));
#line 199 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		g_variant_ref_sink (_tmp44_);
#line 199 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp39_);
#line 199 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp39_ = _tmp44_;
#line 1456 "tpf-persona-store-cache.c"
	} else {
#line 199 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp39_);
#line 199 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp39_ = NULL;
#line 1462 "tpf-persona-store-cache.c"
	}
#line 198 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp45_ = _g_variant_ref0 (_tmp39_);
#line 198 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	birthday_variant = _tmp45_;
#line 202 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp46_ = folks_email_details_get_email_addresses ((FolksEmailDetails*) persona);
#line 202 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp47_ = _tmp46_;
#line 202 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp49_ = tpf_persona_store_cache_serialise_abstract_field_details (self, _tmp47_, &_tmp48_);
#line 202 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	email_addresses = _tmp49_;
#line 202 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	email_addresses_length1 = _tmp48_;
#line 202 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_email_addresses_size_ = email_addresses_length1;
#line 204 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp50_ = folks_phone_details_get_phone_numbers ((FolksPhoneDetails*) persona);
#line 204 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp51_ = _tmp50_;
#line 204 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp53_ = tpf_persona_store_cache_serialise_abstract_field_details (self, _tmp51_, &_tmp52_);
#line 204 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	phone_numbers = _tmp53_;
#line 204 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	phone_numbers_length1 = _tmp52_;
#line 204 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_phone_numbers_size_ = phone_numbers_length1;
#line 206 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp54_ = folks_url_details_get_urls ((FolksUrlDetails*) persona);
#line 206 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp55_ = _tmp54_;
#line 206 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp57_ = tpf_persona_store_cache_serialise_abstract_field_details (self, _tmp55_, &_tmp56_);
#line 206 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	urls = _tmp57_;
#line 206 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	urls_length1 = _tmp56_;
#line 206 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_urls_size_ = urls_length1;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp58_ = folks_persona_get_uid ((FolksPersona*) persona);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp59_ = _tmp58_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp60_ = g_variant_new_string (_tmp59_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp60_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp61_ = folks_persona_get_iid ((FolksPersona*) persona);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp62_ = _tmp61_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp63_ = g_variant_new_string (_tmp62_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp63_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp64_ = folks_persona_get_display_id ((FolksPersona*) persona);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp65_ = _tmp64_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp66_ = g_variant_new_string (_tmp65_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp66_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp67_ = im_protocol;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp68_ = g_variant_new_string (_tmp67_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp68_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp69_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp70_ = groups;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp70__length1 = groups_length1;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp71_ = g_variant_new_array (_tmp69_, _tmp70_, _tmp70__length1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp71_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp72_ = folks_favourite_details_get_is_favourite ((FolksFavouriteDetails*) persona);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp73_ = _tmp72_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp74_ = g_variant_new_boolean (_tmp73_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp74_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp75_ = folks_alias_details_get_alias ((FolksAliasDetails*) persona);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp76_ = _tmp75_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp77_ = g_variant_new_string (_tmp76_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp77_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp78_ = tpf_persona_get_is_in_contact_list (persona);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp79_ = _tmp78_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp80_ = g_variant_new_boolean (_tmp79_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp80_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp81_ = folks_persona_get_is_user ((FolksPersona*) persona);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp82_ = _tmp81_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp83_ = g_variant_new_boolean (_tmp82_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp83_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp84_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp85_ = avatar_variant;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp86_ = g_variant_new_maybe (_tmp84_, _tmp85_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp86_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp87_ = G_VARIANT_TYPE_INT64;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp88_ = g_variant_new_maybe (_tmp87_, birthday_variant);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp88_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp89_ = folks_name_details_get_full_name ((FolksNameDetails*) persona);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp90_ = _tmp89_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp91_ = g_variant_new_string (_tmp90_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp91_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp92_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp93_ = _g_variant_type_copy0 (_tmp92_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp94_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp95_ = _g_variant_type_copy0 (_tmp94_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp96_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp97_ = _g_variant_type_copy0 (_tmp96_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp98_ = g_new0 (GVariantType*, 2 + 1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp98_[0] = _tmp95_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp98_[1] = _tmp97_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp99_ = _tmp98_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp99__length1 = 2;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp100_ = g_variant_type_new_tuple (_tmp99_, 2);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp101_ = _tmp100_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp102_ = g_variant_type_new_array (_tmp101_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp103_ = g_new0 (GVariantType*, 2 + 1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp103_[0] = _tmp93_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp103_[1] = _tmp102_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp104_ = _tmp103_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp104__length1 = 2;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp105_ = g_variant_type_new_tuple (_tmp104_, 2);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp106_ = _tmp105_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp107_ = g_variant_new_array (_tmp106_, email_addresses, email_addresses_length1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp107_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp108_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp109_ = _g_variant_type_copy0 (_tmp108_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp110_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp111_ = _g_variant_type_copy0 (_tmp110_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp112_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp113_ = _g_variant_type_copy0 (_tmp112_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp114_ = g_new0 (GVariantType*, 2 + 1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp114_[0] = _tmp111_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp114_[1] = _tmp113_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp115_ = _tmp114_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp115__length1 = 2;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp116_ = g_variant_type_new_tuple (_tmp115_, 2);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp117_ = _tmp116_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp118_ = g_variant_type_new_array (_tmp117_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp119_ = g_new0 (GVariantType*, 2 + 1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp119_[0] = _tmp109_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp119_[1] = _tmp118_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp120_ = _tmp119_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp120__length1 = 2;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp121_ = g_variant_type_new_tuple (_tmp120_, 2);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp122_ = _tmp121_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp123_ = g_variant_new_array (_tmp122_, phone_numbers, phone_numbers_length1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp123_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp124_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp125_ = _g_variant_type_copy0 (_tmp124_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp126_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp127_ = _g_variant_type_copy0 (_tmp126_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp128_ = G_VARIANT_TYPE_STRING;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp129_ = _g_variant_type_copy0 (_tmp128_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp130_ = g_new0 (GVariantType*, 2 + 1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp130_[0] = _tmp127_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp130_[1] = _tmp129_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp131_ = _tmp130_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp131__length1 = 2;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp132_ = g_variant_type_new_tuple (_tmp131_, 2);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp133_ = _tmp132_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp134_ = g_variant_type_new_array (_tmp133_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp135_ = g_new0 (GVariantType*, 2 + 1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp135_[0] = _tmp125_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp135_[1] = _tmp134_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp136_ = _tmp135_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp136__length1 = 2;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp137_ = g_variant_type_new_tuple (_tmp136_, 2);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp138_ = _tmp137_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp139_ = g_variant_new_array (_tmp138_, urls, urls_length1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp139_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_ = g_new0 (GVariant*, 15 + 1);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[0] = _tmp60_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[1] = _tmp63_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[2] = _tmp66_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[3] = _tmp68_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[4] = _tmp71_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[5] = _tmp74_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[6] = _tmp77_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[7] = _tmp80_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[8] = _tmp83_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[9] = _tmp86_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[10] = _tmp88_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[11] = _tmp91_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[12] = _tmp107_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[13] = _tmp123_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp140_[14] = _tmp139_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp141_ = _tmp140_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp141__length1 = 15;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp142_ = g_variant_new_tuple (_tmp141_, 15);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_variant_ref_sink (_tmp142_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp143_ = _tmp142_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp141_ = (_vala_array_free (_tmp141_, _tmp141__length1, (GDestroyNotify) g_variant_unref), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_type_free0 (_tmp138_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp136_ = (_vala_array_free (_tmp136_, _tmp136__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_type_free0 (_tmp133_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp131_ = (_vala_array_free (_tmp131_, _tmp131__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_type_free0 (_tmp122_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp120_ = (_vala_array_free (_tmp120_, _tmp120__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_type_free0 (_tmp117_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp115_ = (_vala_array_free (_tmp115_, _tmp115__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_type_free0 (_tmp106_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp104_ = (_vala_array_free (_tmp104_, _tmp104__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_type_free0 (_tmp101_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp99_ = (_vala_array_free (_tmp99_, _tmp99__length1, (GDestroyNotify) g_variant_type_free), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	result = _tmp143_;
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	urls = (_vala_array_free (urls, urls_length1, (GDestroyNotify) g_variant_unref), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	phone_numbers = (_vala_array_free (phone_numbers, phone_numbers_length1, (GDestroyNotify) g_variant_unref), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	email_addresses = (_vala_array_free (email_addresses, email_addresses_length1, (GDestroyNotify) g_variant_unref), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (birthday_variant);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp39_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (avatar_variant);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp32_);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_object_unref0 (avatar_file);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_object_unref0 (iter);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_free0 (im_protocol);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	groups = (_vala_array_free (groups, groups_length1, (GDestroyNotify) g_variant_unref), NULL);
#line 209 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return result;
#line 1830 "tpf-persona-store-cache.c"
}


static void
tpf_persona_store_cache_deserialise_abstract_field_details (TpfPersonaStoreCache* self,
                                                            GVariant* input_variants,
                                                            TpfPersonaStoreCacheAfdDeserialisationCallback cb,
                                                            gpointer cb_target)
{
#line 249 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (self != NULL);
#line 249 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (input_variants != NULL);
#line 1844 "tpf-persona-store-cache.c"
	{
		guint i = 0U;
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		i = (guint) 0;
#line 1849 "tpf-persona-store-cache.c"
		{
			gboolean _tmp0_ = FALSE;
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp0_ = TRUE;
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			while (TRUE) {
#line 1856 "tpf-persona-store-cache.c"
				guint _tmp2_;
				GVariant* input_variant = NULL;
				guint _tmp3_;
				GVariant* _tmp4_;
				gchar* val = NULL;
				GVariant* _tmp5_;
				GVariant* _tmp6_;
				GVariant* _tmp7_;
				const gchar* _tmp8_;
				gchar* _tmp9_;
				gchar* _tmp10_;
				GeeHashMultiMap* parameters = NULL;
				GeeHashMultiMap* _tmp11_;
				GVariant* params_variants = NULL;
				GVariant* _tmp12_;
				GVariant* _tmp13_;
				const gchar* _tmp30_;
				GeeHashMultiMap* _tmp31_;
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				if (!_tmp0_) {
#line 1877 "tpf-persona-store-cache.c"
					guint _tmp1_;
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
					_tmp1_ = i;
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
					i = _tmp1_ + 1;
#line 1883 "tpf-persona-store-cache.c"
				}
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp0_ = FALSE;
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp2_ = i;
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				if (!(((gsize) _tmp2_) < g_variant_n_children (input_variants))) {
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
					break;
#line 1893 "tpf-persona-store-cache.c"
				}
#line 254 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp3_ = i;
#line 254 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp4_ = g_variant_get_child_value (input_variants, (gsize) _tmp3_);
#line 254 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				input_variant = _tmp4_;
#line 256 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp5_ = input_variant;
#line 256 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp6_ = g_variant_get_child_value (_tmp5_, (gsize) 0);
#line 256 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp7_ = _tmp6_;
#line 256 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp8_ = g_variant_get_string (_tmp7_, NULL);
#line 256 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp9_ = g_strdup (_tmp8_);
#line 256 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp10_ = _tmp9_;
#line 256 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_variant_unref0 (_tmp7_);
#line 256 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				val = _tmp10_;
#line 258 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp11_ = gee_hash_multi_map_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 258 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				parameters = _tmp11_;
#line 259 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp12_ = input_variant;
#line 259 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp13_ = g_variant_get_child_value (_tmp12_, (gsize) 1);
#line 259 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				params_variants = _tmp13_;
#line 1927 "tpf-persona-store-cache.c"
				{
					guint f = 0U;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
					f = (guint) 0;
#line 1932 "tpf-persona-store-cache.c"
					{
						gboolean _tmp14_ = FALSE;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
						_tmp14_ = TRUE;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
						while (TRUE) {
#line 1939 "tpf-persona-store-cache.c"
							guint _tmp16_;
							GVariant* _tmp17_;
							GVariant* params_variant = NULL;
							GVariant* _tmp18_;
							guint _tmp19_;
							GVariant* _tmp20_;
							GeeHashMultiMap* _tmp21_;
							GVariant* _tmp22_;
							GVariant* _tmp23_;
							GVariant* _tmp24_;
							const gchar* _tmp25_;
							GVariant* _tmp26_;
							GVariant* _tmp27_;
							GVariant* _tmp28_;
							const gchar* _tmp29_;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							if (!_tmp14_) {
#line 1957 "tpf-persona-store-cache.c"
								guint _tmp15_;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
								_tmp15_ = f;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
								f = _tmp15_ + 1;
#line 1963 "tpf-persona-store-cache.c"
							}
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp14_ = FALSE;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp16_ = f;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp17_ = params_variants;
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							if (!(((gsize) _tmp16_) < g_variant_n_children (_tmp17_))) {
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
								break;
#line 1975 "tpf-persona-store-cache.c"
							}
#line 262 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp18_ = params_variants;
#line 262 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp19_ = f;
#line 262 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp20_ = g_variant_get_child_value (_tmp18_, (gsize) _tmp19_);
#line 262 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							params_variant = _tmp20_;
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp21_ = parameters;
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp22_ = params_variant;
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp23_ = g_variant_get_child_value (_tmp22_, (gsize) 0);
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp24_ = _tmp23_;
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp25_ = g_variant_get_string (_tmp24_, NULL);
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp26_ = params_variant;
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp27_ = g_variant_get_child_value (_tmp26_, (gsize) 1);
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp28_ = _tmp27_;
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_tmp29_ = g_variant_get_string (_tmp28_, NULL);
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							gee_multi_map_set ((GeeMultiMap*) _tmp21_, _tmp25_, _tmp29_);
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_g_variant_unref0 (_tmp28_);
#line 264 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_g_variant_unref0 (_tmp24_);
#line 260 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
							_g_variant_unref0 (params_variant);
#line 2011 "tpf-persona-store-cache.c"
						}
					}
				}
#line 270 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp30_ = val;
#line 270 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp31_ = parameters;
#line 270 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				cb (_tmp30_, _tmp31_, cb_target);
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_variant_unref0 (params_variants);
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_object_unref0 (parameters);
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_free0 (val);
#line 252 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_variant_unref0 (input_variant);
#line 2029 "tpf-persona-store-cache.c"
			}
		}
	}
}


static Block2Data*
block2_data_ref (Block2Data* _data2_)
{
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return _data2_;
#line 2043 "tpf-persona-store-cache.c"
}


static void
block2_data_unref (void * _userdata_)
{
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 2054 "tpf-persona-store-cache.c"
		TpfPersonaStoreCache* self;
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		self = _data2_->self;
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_data2_->url_set);
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_data2_->phone_number_set);
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_data2_->email_address_set);
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (self);
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		g_slice_free (Block2Data, _data2_);
#line 2068 "tpf-persona-store-cache.c"
	}
}


static guint
_folks_abstract_field_details_hash_static_gee_hash_data_func (gconstpointer v,
                                                              gpointer self)
{
	guint result;
	result = folks_abstract_field_details_hash_static ((FolksAbstractFieldDetails*) v);
#line 321 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return result;
#line 2081 "tpf-persona-store-cache.c"
}


static gboolean
_folks_abstract_field_details_equal_static_gee_equal_data_func (gconstpointer a,
                                                                gconstpointer b,
                                                                gpointer self)
{
	gboolean result;
	result = folks_abstract_field_details_equal_static ((FolksAbstractFieldDetails*) a, (FolksAbstractFieldDetails*) b);
#line 321 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return result;
#line 2094 "tpf-persona-store-cache.c"
}


static void
___lambda5_ (Block2Data* _data2_,
             const gchar* v,
             GeeHashMultiMap* p)
{
	TpfPersonaStoreCache* self;
#line 336 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = _data2_->self;
#line 336 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (v != NULL);
#line 336 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (p != NULL);
#line 338 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (g_strcmp0 (v, "") != 0) {
#line 2112 "tpf-persona-store-cache.c"
		FolksSmallSet* _tmp0_;
		FolksEmailFieldDetails* _tmp1_;
		FolksEmailFieldDetails* _tmp2_;
#line 340 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp0_ = _data2_->email_address_set;
#line 340 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp1_ = folks_email_field_details_new (v, (GeeMultiMap*) p);
#line 340 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp2_ = _tmp1_;
#line 340 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		gee_abstract_collection_add ((GeeAbstractCollection*) _tmp0_, _tmp2_);
#line 340 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_tmp2_);
#line 2126 "tpf-persona-store-cache.c"
	}
}


static void
____lambda5__tpf_persona_store_cache_afd_deserialisation_callback (const gchar* val,
                                                                   GeeHashMultiMap* parameters,
                                                                   gpointer self)
{
#line 335 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	___lambda5_ (self, val, parameters);
#line 2138 "tpf-persona-store-cache.c"
}


static void
___lambda6_ (Block2Data* _data2_,
             const gchar* v,
             GeeHashMultiMap* p)
{
	TpfPersonaStoreCache* self;
#line 344 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = _data2_->self;
#line 344 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (v != NULL);
#line 344 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (p != NULL);
#line 346 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (g_strcmp0 (v, "") != 0) {
#line 2156 "tpf-persona-store-cache.c"
		FolksSmallSet* _tmp0_;
		FolksPhoneFieldDetails* _tmp1_;
		FolksPhoneFieldDetails* _tmp2_;
#line 348 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp0_ = _data2_->phone_number_set;
#line 348 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp1_ = folks_phone_field_details_new (v, (GeeMultiMap*) p);
#line 348 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp2_ = _tmp1_;
#line 348 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		gee_abstract_collection_add ((GeeAbstractCollection*) _tmp0_, _tmp2_);
#line 348 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_tmp2_);
#line 2170 "tpf-persona-store-cache.c"
	}
}


static void
____lambda6__tpf_persona_store_cache_afd_deserialisation_callback (const gchar* val,
                                                                   GeeHashMultiMap* parameters,
                                                                   gpointer self)
{
#line 343 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	___lambda6_ (self, val, parameters);
#line 2182 "tpf-persona-store-cache.c"
}


static void
___lambda7_ (Block2Data* _data2_,
             const gchar* v,
             GeeHashMultiMap* p)
{
	TpfPersonaStoreCache* self;
#line 352 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = _data2_->self;
#line 352 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (v != NULL);
#line 352 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (p != NULL);
#line 354 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (g_strcmp0 (v, "") != 0) {
#line 2200 "tpf-persona-store-cache.c"
		FolksSmallSet* _tmp0_;
		FolksUrlFieldDetails* _tmp1_;
		FolksUrlFieldDetails* _tmp2_;
#line 356 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp0_ = _data2_->url_set;
#line 356 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp1_ = folks_url_field_details_new (v, (GeeMultiMap*) p);
#line 356 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp2_ = _tmp1_;
#line 356 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		gee_abstract_collection_add ((GeeAbstractCollection*) _tmp0_, _tmp2_);
#line 356 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_tmp2_);
#line 2214 "tpf-persona-store-cache.c"
	}
}


static void
____lambda7__tpf_persona_store_cache_afd_deserialisation_callback (const gchar* val,
                                                                   GeeHashMultiMap* parameters,
                                                                   gpointer self)
{
#line 351 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	___lambda7_ (self, val, parameters);
#line 2226 "tpf-persona-store-cache.c"
}


static TpfPersona*
tpf_persona_store_cache_real_deserialise_object (FolksObjectCache* base,
                                                 GVariant* variant,
                                                 guint8 object_version)
{
	TpfPersonaStoreCache * self;
	TpfPersona* result = NULL;
	Block2Data* _data2_;
	gchar* uid = NULL;
	GVariant* _tmp0_;
	GVariant* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* iid = NULL;
	GVariant* _tmp5_;
	GVariant* _tmp6_;
	const gchar* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* display_id = NULL;
	GVariant* _tmp10_;
	GVariant* _tmp11_;
	const gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* im_protocol = NULL;
	GVariant* _tmp15_;
	GVariant* _tmp16_;
	const gchar* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
	GVariant* groups = NULL;
	GVariant* _tmp20_;
	gboolean is_favourite = FALSE;
	GVariant* _tmp21_;
	GVariant* _tmp22_;
	gboolean _tmp23_;
	gchar* alias = NULL;
	GVariant* _tmp24_;
	GVariant* _tmp25_;
	const gchar* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	gboolean is_in_contact_list = FALSE;
	GVariant* _tmp29_;
	GVariant* _tmp30_;
	gboolean _tmp31_;
	gboolean is_user = FALSE;
	GVariant* _tmp32_;
	GVariant* _tmp33_;
	gboolean _tmp34_;
	GVariant* avatar_variant = NULL;
	GVariant* _tmp35_;
	GVariant* _tmp36_;
	GVariant* _tmp37_;
	GVariant* _tmp38_;
	FolksSmallSet* group_set = NULL;
	FolksSmallSet* _tmp39_;
	GFileIcon* _tmp50_ = NULL;
	GVariant* _tmp51_;
	GFileIcon* avatar = NULL;
	GFileIcon* _tmp57_;
	GDateTime* birthday = NULL;
	gchar* full_name = NULL;
	gchar* _tmp65_;
	FolksSmallSet* _tmp70_;
	FolksSmallSet* _tmp71_;
	FolksSmallSet* _tmp72_;
	TpfPersonaStore* _tmp79_;
	const gchar* _tmp80_;
	const gchar* _tmp81_;
	const gchar* _tmp82_;
	const gchar* _tmp83_;
	FolksSmallSet* _tmp84_;
	gboolean _tmp85_;
	const gchar* _tmp86_;
	gboolean _tmp87_;
	gboolean _tmp88_;
	GFileIcon* _tmp89_;
	GDateTime* _tmp90_;
	const gchar* _tmp91_;
	FolksSmallSet* _tmp92_;
	FolksSmallSet* _tmp93_;
	FolksSmallSet* _tmp94_;
	TpfPersona* _tmp95_;
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = (TpfPersonaStoreCache*) base;
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_val_if_fail (variant != NULL, NULL);
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_data2_ = g_slice_new0 (Block2Data);
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_data2_->_ref_count_ = 1;
#line 274 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_data2_->self = g_object_ref (self);
#line 278 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp0_ = g_variant_get_child_value (variant, (gsize) 0);
#line 278 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp1_ = _tmp0_;
#line 278 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp2_ = g_variant_get_string (_tmp1_, NULL);
#line 278 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp3_ = g_strdup (_tmp2_);
#line 278 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp4_ = _tmp3_;
#line 278 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp1_);
#line 278 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	uid = _tmp4_;
#line 279 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp5_ = g_variant_get_child_value (variant, (gsize) 1);
#line 279 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp6_ = _tmp5_;
#line 279 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp7_ = g_variant_get_string (_tmp6_, NULL);
#line 279 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp8_ = g_strdup (_tmp7_);
#line 279 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp9_ = _tmp8_;
#line 279 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp6_);
#line 279 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	iid = _tmp9_;
#line 280 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp10_ = g_variant_get_child_value (variant, (gsize) 2);
#line 280 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp11_ = _tmp10_;
#line 280 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp12_ = g_variant_get_string (_tmp11_, NULL);
#line 280 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp13_ = g_strdup (_tmp12_);
#line 280 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp14_ = _tmp13_;
#line 280 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp11_);
#line 280 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	display_id = _tmp14_;
#line 281 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp15_ = g_variant_get_child_value (variant, (gsize) 3);
#line 281 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp16_ = _tmp15_;
#line 281 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp17_ = g_variant_get_string (_tmp16_, NULL);
#line 281 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp18_ = g_strdup (_tmp17_);
#line 281 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp19_ = _tmp18_;
#line 281 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp16_);
#line 281 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	im_protocol = _tmp19_;
#line 282 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp20_ = g_variant_get_child_value (variant, (gsize) 4);
#line 282 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	groups = _tmp20_;
#line 283 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp21_ = g_variant_get_child_value (variant, (gsize) 5);
#line 283 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp22_ = _tmp21_;
#line 283 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp23_ = g_variant_get_boolean (_tmp22_);
#line 283 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp22_);
#line 283 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	is_favourite = _tmp23_;
#line 284 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp24_ = g_variant_get_child_value (variant, (gsize) 6);
#line 284 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp25_ = _tmp24_;
#line 284 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp26_ = g_variant_get_string (_tmp25_, NULL);
#line 284 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp27_ = g_strdup (_tmp26_);
#line 284 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp28_ = _tmp27_;
#line 284 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp25_);
#line 284 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	alias = _tmp28_;
#line 285 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp29_ = g_variant_get_child_value (variant, (gsize) 7);
#line 285 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp30_ = _tmp29_;
#line 285 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp31_ = g_variant_get_boolean (_tmp30_);
#line 285 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp30_);
#line 285 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	is_in_contact_list = _tmp31_;
#line 286 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp32_ = g_variant_get_child_value (variant, (gsize) 8);
#line 286 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp33_ = _tmp32_;
#line 286 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp34_ = g_variant_get_boolean (_tmp33_);
#line 286 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp33_);
#line 286 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	is_user = _tmp34_;
#line 287 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp35_ = g_variant_get_child_value (variant, (gsize) 9);
#line 287 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp36_ = _tmp35_;
#line 287 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp37_ = g_variant_get_maybe (_tmp36_);
#line 287 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp38_ = _tmp37_;
#line 287 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (_tmp36_);
#line 287 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	avatar_variant = _tmp38_;
#line 290 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp39_ = folks_small_set_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, (GDestroyNotify) g_free, NULL, NULL, NULL, NULL, NULL, NULL);
#line 290 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	group_set = _tmp39_;
#line 2446 "tpf-persona-store-cache.c"
	{
		guint i = 0U;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		i = (guint) 0;
#line 2451 "tpf-persona-store-cache.c"
		{
			gboolean _tmp40_ = FALSE;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp40_ = TRUE;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			while (TRUE) {
#line 2458 "tpf-persona-store-cache.c"
				guint _tmp42_;
				GVariant* _tmp43_;
				FolksSmallSet* _tmp44_;
				GVariant* _tmp45_;
				guint _tmp46_;
				GVariant* _tmp47_;
				GVariant* _tmp48_;
				const gchar* _tmp49_;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				if (!_tmp40_) {
#line 2469 "tpf-persona-store-cache.c"
					guint _tmp41_;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
					_tmp41_ = i;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
					i = _tmp41_ + 1;
#line 2475 "tpf-persona-store-cache.c"
				}
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp40_ = FALSE;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp42_ = i;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp43_ = groups;
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				if (!(((gsize) _tmp42_) < g_variant_n_children (_tmp43_))) {
#line 291 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
					break;
#line 2487 "tpf-persona-store-cache.c"
				}
#line 293 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp44_ = group_set;
#line 293 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp45_ = groups;
#line 293 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp46_ = i;
#line 293 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp47_ = g_variant_get_child_value (_tmp45_, (gsize) _tmp46_);
#line 293 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp48_ = _tmp47_;
#line 293 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_tmp49_ = g_variant_get_string (_tmp48_, NULL);
#line 293 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				gee_abstract_collection_add ((GeeAbstractCollection*) _tmp44_, _tmp49_);
#line 293 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
				_g_variant_unref0 (_tmp48_);
#line 2505 "tpf-persona-store-cache.c"
			}
		}
	}
#line 297 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp51_ = avatar_variant;
#line 297 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (_tmp51_ != NULL) {
#line 2513 "tpf-persona-store-cache.c"
		GVariant* _tmp52_;
		const gchar* _tmp53_;
		GFile* _tmp54_;
		GFile* _tmp55_;
		GFileIcon* _tmp56_;
#line 298 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp52_ = avatar_variant;
#line 298 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp53_ = g_variant_get_string (_tmp52_, NULL);
#line 298 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp54_ = g_file_new_for_uri (_tmp53_);
#line 298 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp55_ = _tmp54_;
#line 298 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp56_ = (GFileIcon*) g_file_icon_new (_tmp55_);
#line 298 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_tmp50_);
#line 298 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp50_ = _tmp56_;
#line 298 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_tmp55_);
#line 2535 "tpf-persona-store-cache.c"
	} else {
#line 299 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_object_unref0 (_tmp50_);
#line 299 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp50_ = NULL;
#line 2541 "tpf-persona-store-cache.c"
	}
#line 297 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp57_ = _g_object_ref0 (_tmp50_);
#line 297 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	avatar = _tmp57_;
#line 302 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	birthday = NULL;
#line 303 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (((gint) object_version) == 2) {
#line 2551 "tpf-persona-store-cache.c"
		GVariant* birthday_variant = NULL;
		GVariant* _tmp58_;
		GVariant* _tmp59_;
		GVariant* _tmp60_;
		GVariant* _tmp61_;
		GVariant* _tmp62_;
#line 305 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp58_ = g_variant_get_child_value (variant, (gsize) 10);
#line 305 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp59_ = _tmp58_;
#line 305 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp60_ = g_variant_get_maybe (_tmp59_);
#line 305 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp61_ = _tmp60_;
#line 305 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp59_);
#line 305 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		birthday_variant = _tmp61_;
#line 306 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp62_ = birthday_variant;
#line 306 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		if (_tmp62_ != NULL) {
#line 2574 "tpf-persona-store-cache.c"
			GVariant* _tmp63_;
			GDateTime* _tmp64_;
#line 310 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp63_ = birthday_variant;
#line 310 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_tmp64_ = g_date_time_new_from_unix_utc (g_variant_get_int64 (_tmp63_));
#line 310 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			_g_date_time_unref0 (birthday);
#line 310 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
			birthday = _tmp64_;
#line 2585 "tpf-persona-store-cache.c"
		}
#line 303 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (birthday_variant);
#line 2589 "tpf-persona-store-cache.c"
	}
#line 315 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp65_ = g_strdup ("");
#line 315 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	full_name = _tmp65_;
#line 316 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (((gint) object_version) == 2) {
#line 2597 "tpf-persona-store-cache.c"
		GVariant* _tmp66_;
		GVariant* _tmp67_;
		const gchar* _tmp68_;
		gchar* _tmp69_;
#line 318 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp66_ = g_variant_get_child_value (variant, (gsize) 11);
#line 318 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp67_ = _tmp66_;
#line 318 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp68_ = g_variant_get_string (_tmp67_, NULL);
#line 318 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp69_ = g_strdup (_tmp68_);
#line 318 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_free0 (full_name);
#line 318 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		full_name = _tmp69_;
#line 318 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp67_);
#line 2616 "tpf-persona-store-cache.c"
	}
#line 321 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp70_ = folks_small_set_new (FOLKS_TYPE_EMAIL_FIELD_DETAILS, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, _folks_abstract_field_details_hash_static_gee_hash_data_func, NULL, NULL, _folks_abstract_field_details_equal_static_gee_equal_data_func, NULL, NULL);
#line 321 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_data2_->email_address_set = _tmp70_;
#line 324 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp71_ = folks_small_set_new (FOLKS_TYPE_PHONE_FIELD_DETAILS, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, _folks_abstract_field_details_hash_static_gee_hash_data_func, NULL, NULL, _folks_abstract_field_details_equal_static_gee_equal_data_func, NULL, NULL);
#line 324 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_data2_->phone_number_set = _tmp71_;
#line 327 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp72_ = folks_small_set_new (FOLKS_TYPE_URL_FIELD_DETAILS, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, _folks_abstract_field_details_hash_static_gee_hash_data_func, NULL, NULL, _folks_abstract_field_details_equal_static_gee_equal_data_func, NULL, NULL);
#line 327 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_data2_->url_set = _tmp72_;
#line 331 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (((gint) object_version) == 2) {
#line 2632 "tpf-persona-store-cache.c"
		GVariant* _tmp73_;
		GVariant* _tmp74_;
		GVariant* _tmp75_;
		GVariant* _tmp76_;
		GVariant* _tmp77_;
		GVariant* _tmp78_;
#line 335 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp73_ = g_variant_get_child_value (variant, (gsize) 12);
#line 335 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp74_ = _tmp73_;
#line 335 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		tpf_persona_store_cache_deserialise_abstract_field_details (self, _tmp74_, ____lambda5__tpf_persona_store_cache_afd_deserialisation_callback, _data2_);
#line 335 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp74_);
#line 343 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp75_ = g_variant_get_child_value (variant, (gsize) 13);
#line 343 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp76_ = _tmp75_;
#line 343 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		tpf_persona_store_cache_deserialise_abstract_field_details (self, _tmp76_, ____lambda6__tpf_persona_store_cache_afd_deserialisation_callback, _data2_);
#line 343 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp76_);
#line 351 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp77_ = g_variant_get_child_value (variant, (gsize) 14);
#line 351 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_tmp78_ = _tmp77_;
#line 351 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		tpf_persona_store_cache_deserialise_abstract_field_details (self, _tmp78_, ____lambda7__tpf_persona_store_cache_afd_deserialisation_callback, _data2_);
#line 351 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		_g_variant_unref0 (_tmp78_);
#line 2663 "tpf-persona-store-cache.c"
	}
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp79_ = self->priv->_store;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp80_ = uid;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp81_ = iid;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp82_ = display_id;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp83_ = im_protocol;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp84_ = group_set;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp85_ = is_favourite;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp86_ = alias;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp87_ = is_in_contact_list;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp88_ = is_user;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp89_ = avatar;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp90_ = birthday;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp91_ = full_name;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp92_ = _data2_->email_address_set;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp93_ = _data2_->phone_number_set;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp94_ = _data2_->url_set;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp95_ = tpf_persona_new_from_cache (_tmp79_, _tmp80_, _tmp81_, _tmp82_, _tmp83_, _tmp84_, _tmp85_, _tmp86_, _tmp87_, _tmp88_, (GLoadableIcon*) _tmp89_, _tmp90_, _tmp91_, _tmp92_, _tmp93_, _tmp94_);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	result = _tmp95_;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_free0 (full_name);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_date_time_unref0 (birthday);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_object_unref0 (avatar);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_object_unref0 (_tmp50_);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_object_unref0 (group_set);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (avatar_variant);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_free0 (alias);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_variant_unref0 (groups);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_free0 (im_protocol);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_free0 (display_id);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_free0 (iid);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_g_free0 (uid);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	block2_data_unref (_data2_);
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_data2_ = NULL;
#line 361 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return result;
#line 2731 "tpf-persona-store-cache.c"
}


TpfPersonaStore*
tpf_persona_store_cache_get_store (TpfPersonaStoreCache* self)
{
	TpfPersonaStore* result;
	TpfPersonaStore* _tmp0_;
#line 53 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 53 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	_tmp0_ = self->priv->_store;
#line 53 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	result = _tmp0_;
#line 53 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	return result;
#line 2748 "tpf-persona-store-cache.c"
}


static void
tpf_persona_store_cache_set_store (TpfPersonaStoreCache* self,
                                   TpfPersonaStore* value)
{
#line 53 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_return_if_fail (self != NULL);
#line 53 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	if (tpf_persona_store_cache_get_store (self) != value) {
#line 53 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		self->priv->_store = value;
#line 53 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		g_object_notify_by_pspec ((GObject *) self, tpf_persona_store_cache_properties[TPF_PERSONA_STORE_CACHE_STORE_PROPERTY]);
#line 2764 "tpf-persona-store-cache.c"
	}
}


static void
tpf_persona_store_cache_class_init (TpfPersonaStoreCacheClass * klass)
{
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	tpf_persona_store_cache_parent_class = g_type_class_peek_parent (klass);
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_type_class_add_private (klass, sizeof (TpfPersonaStoreCachePrivate));
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	((FolksObjectCacheClass *) klass)->get_serialised_object_type = (GVariantType* (*) (FolksObjectCache *, guint8)) tpf_persona_store_cache_real_get_serialised_object_type;
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	((FolksObjectCacheClass *) klass)->get_serialised_object_version = (guint8 (*) (FolksObjectCache *)) tpf_persona_store_cache_real_get_serialised_object_version;
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	((FolksObjectCacheClass *) klass)->serialise_object = (GVariant* (*) (FolksObjectCache *, gconstpointer)) tpf_persona_store_cache_real_serialise_object;
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	((FolksObjectCacheClass *) klass)->deserialise_object = (gpointer (*) (FolksObjectCache *, GVariant*, guint8)) tpf_persona_store_cache_real_deserialise_object;
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_tpf_persona_store_cache_get_property;
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_tpf_persona_store_cache_set_property;
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	G_OBJECT_CLASS (klass)->finalize = tpf_persona_store_cache_finalize;
#line 2790 "tpf-persona-store-cache.c"
	/**
	   * The {@link Tpf.PersonaStore} associated with this cache.
	   *
	   * @since 0.6.6
	   */
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TPF_PERSONA_STORE_CACHE_STORE_PROPERTY, tpf_persona_store_cache_properties[TPF_PERSONA_STORE_CACHE_STORE_PROPERTY] = g_param_spec_object ("store", "store", "store", TPF_TYPE_PERSONA_STORE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT_ONLY));
#line 2798 "tpf-persona-store-cache.c"
}


static void
tpf_persona_store_cache_instance_init (TpfPersonaStoreCache * self)
{
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self->priv = TPF_PERSONA_STORE_CACHE_GET_PRIVATE (self);
#line 2807 "tpf-persona-store-cache.c"
}


static void
tpf_persona_store_cache_finalize (GObject * obj)
{
	TpfPersonaStoreCache * self;
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TPF_TYPE_PERSONA_STORE_CACHE, TpfPersonaStoreCache);
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	G_OBJECT_CLASS (tpf_persona_store_cache_parent_class)->finalize (obj);
#line 2819 "tpf-persona-store-cache.c"
}


/**
 * An object cache class which implements caching of sets of
 * {@link Tpf.Persona}s from a given {@link Tpf.PersonaStore}.
 *
 * Each {@link Tpf.Persona} is stored as a serialised {@link Variant} which is
 * a tuple containing the following fields:
 *  # UID (``s``)
 *  # IID (``s``)
 *  # IM address (``s``)
 *  # Protocol (``s``)
 *  # Set of group names (``as``)
 *  # Favourite? (``b``)
 *  # Alias (``s``)
 *  # In contact list? (``b``)
 *  # Avatar file URI (``s``)
 *  # Birthday date as a Unix timestamp (``s``)
 *  # Set of e-mail addresses and parameters (``a(sa(ss))``)
 *  # Full name (``s``)
 *
 * @since 0.6.0
 */
GType
tpf_persona_store_cache_get_type (void)
{
	static volatile gsize tpf_persona_store_cache_type_id__volatile = 0;
	if (g_once_init_enter (&tpf_persona_store_cache_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TpfPersonaStoreCacheClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) tpf_persona_store_cache_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TpfPersonaStoreCache), 0, (GInstanceInitFunc) tpf_persona_store_cache_instance_init, NULL };
		GType tpf_persona_store_cache_type_id;
		tpf_persona_store_cache_type_id = g_type_register_static (FOLKS_TYPE_OBJECT_CACHE, "TpfPersonaStoreCache", &g_define_type_info, 0);
		g_once_init_leave (&tpf_persona_store_cache_type_id__volatile, tpf_persona_store_cache_type_id);
	}
	return tpf_persona_store_cache_type_id__volatile;
}


static void
_vala_tpf_persona_store_cache_get_property (GObject * object,
                                            guint property_id,
                                            GValue * value,
                                            GParamSpec * pspec)
{
	TpfPersonaStoreCache * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TPF_TYPE_PERSONA_STORE_CACHE, TpfPersonaStoreCache);
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	switch (property_id) {
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		case TPF_PERSONA_STORE_CACHE_STORE_PROPERTY:
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		g_value_set_object (value, tpf_persona_store_cache_get_store (self));
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		break;
#line 2874 "tpf-persona-store-cache.c"
		default:
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		break;
#line 2880 "tpf-persona-store-cache.c"
	}
}


static void
_vala_tpf_persona_store_cache_set_property (GObject * object,
                                            guint property_id,
                                            const GValue * value,
                                            GParamSpec * pspec)
{
	TpfPersonaStoreCache * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TPF_TYPE_PERSONA_STORE_CACHE, TpfPersonaStoreCache);
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
	switch (property_id) {
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		case TPF_PERSONA_STORE_CACHE_STORE_PROPERTY:
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		tpf_persona_store_cache_set_store (self, g_value_get_object (value));
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		break;
#line 2901 "tpf-persona-store-cache.c"
		default:
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 46 "/run/build/folks/backends/telepathy/lib/tpf-persona-store-cache.vala"
		break;
#line 2907 "tpf-persona-store-cache.c"
	}
}


static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}



